import{a0 as Ge,x as p,a2 as Je,P as el,o as $,b4 as xl,z as xe,a5 as ll,a6 as b,a7 as U,a8 as a,c as e,a9 as al,ac as l,ai as Ze,af as ve,ab as pe,ad as V,am as ce,b3 as tl,ae as x,aC as m,H as He,av as sl,aa as rl,K as O,as as ul,at as ol,A as Dl,ak as kl,ag as Qe,an as Y,ao as _e,aF as Ul,aj as wl,X as Cl}from"./index-CrP1mq-F.js";import{c as nl,a as i,d as he,e as Nl,u as dl,b as d,f as Xe}from"./index.esm-BWxYK8EP.js";import{l as Ml}from"./lodash-DHyxJ22h.js";import{C as Al}from"./ConfirmDeleteDialogWithTextField-BOqBTBAG.js";import{V as il}from"./VForm-Dx2x598f.js";import{V as k,a as o}from"./VRow-k1vMvfA4.js";import{V as G}from"./VDivider-BXkJRSsW.js";import{V as A,a as Sl}from"./VDataTableServer-Bc-PJ1cb.js";import{V as ml}from"./VTooltip-COY0GB7O.js";import{V as Il}from"./VContainer-RhMuJ77C.js";import{V as Tl}from"./VHover-nPJ_fKvX.js";import{T as Ye}from"./index-CP22C5Se.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VList-DWCzn2Q2.js";import"./VCheckboxBtn-BdjmP_zZ.js";const Pl={class:"card-title ps-4 py-3 d-flex align-center text-blue-grey-darken-1"},zl={__name:"TransferDialog",props:{tempUser:{type:Object,required:!0,default:null}},emits:["transferred"],setup(We,{expose:Q,emit:h}){const De=We,Be=h,J=p(!1),{apiAuth:B}=ol(),S=Je(),{smAndUp:q,mdAndUp:$e,lgAndUp:qe,xlAndUp:ee}=el(),F=p(!1),le=p([]),ke=$(()=>q.value?"default":"small"),ge=$(()=>q.value?64:48),fe=p(Object.entries(xl).map(([v,u])=>({value:Number(v),title:u}))),Ue=()=>{I.value.value&&(X.value.value=I.value.value)},Fe=$(()=>ee.value?"1200":qe.value?"900":$e.value?"800":q.value?"600":"100%"),be=nl({email:i().required("請輸入email").email("請輸入正確的 email 格式"),personalEmail:i().email("請輸入正確的 email 格式"),name:i().required("請輸入姓名"),englishName:i().required("請輸入英文名"),gender:i().required("請選擇性別"),IDNumber:i().matches(/^[A-Za-z][12]\d{8}$/,"身分證號碼格式錯誤").required("請輸入身分證號碼"),permanentAddress:i().required("請輸入戶籍地址"),contactAddress:i().required("請輸入聯絡地址"),birthDate:he().nullable().required("請選擇生日"),company:i().nullable().required("請選擇公司"),department:i().required("請選擇部門"),cellphone:i().min(10,"手機號碼需為10位數字").max(10,"手機號碼勿超過10位數字").required("請輸入手機號碼"),salary:i(),role:i().required("請選擇權限"),extNumber:i().required("請輸入分機號碼"),printNumber:i().required("請輸入列印編號"),guideLicense:Nl(),jobTitle:i().required("請輸入職稱"),hireDate:he().nullable().required("請選擇入職日期"),emergencyName:i().required("請輸入緊急聯絡人姓名"),emergencyCellphone:i().required("請輸入緊急聯絡人連絡電話"),emergencyRelationship:i(),cowellAccount:i().required("請輸入Cowell帳號"),cowellPassword:i().required("請輸入Cowell密碼"),note:i()}),{handleSubmit:Re,isSubmitting:Ee,resetForm:R}=dl({validationSchema:be,initialValues:{email:"",personalEmail:"",name:"",englishName:"",gender:"",IDNumber:"",permanentAddress:"",contactAddress:"",birthDate:null,company:"",department:"",cellphone:"",salary:"",extNumber:"",printNumber:"",guideLicense:!1,jobTitle:"",role:0,employmentStatus:"在職",hireDate:new Date,resignationDate:null,emergencyName:"",emergencyCellphone:"",emergencyRelationship:"",note:"",userId:"",cowellAccount:"",cowellPassword:""},validateOnMount:!1,validateOnChange:!0,validateOnBlur:!0,validateOnInput:!1}),we=d("name"),E=d("englishName"),ae=d("email"),Ce=d("personalEmail"),ye=d("IDNumber"),Ne=d("gender"),Me=d("cellphone"),c=d("birthDate"),I=d("permanentAddress"),X=d("contactAddress"),w=d("emergencyName"),N=d("emergencyCellphone"),Ae=d("emergencyRelationship"),te=d("company"),se=d("department"),C=d("jobTitle"),D=d("salary"),Se=d("role"),Ie=d("extNumber"),re=d("hireDate"),Ve=d("printNumber"),T=d("guideLicense"),L=d("cowellAccount"),Z=d("cowellPassword"),H=d("note"),P=p(null),z=p([]),ue=$(()=>[...le.value].sort((v,u)=>{const g=v.companyId||"",n=u.companyId||"";return g.localeCompare(n)}).map(v=>({title:v.name,value:v._id}))),M=p(!1),_=p(!1),oe=[{title:"男性",value:"男性"},{title:"女性",value:"女性"}],ne=[{title:"有",value:!0},{title:"無",value:!1}],de=async v=>{F.value=!0,J.value=!0;try{const{data:u}=await B.get("/company/all");u.success&&(le.value=u.result);const{data:g}=await B.get(`/tempUser/${v._id}/formatted-for-transfer`);g.success&&(g.result.company&&(P.value=g.result.company,await j(g.result.company),se.value.value=g.result.department),R({values:{...g.result,personalEmail:g.result.personalEmail||"",company:g.result.company||"",department:g.result.department||"",hireDate:g.result.hireDate||null,birthDate:g.result.birthDate?new Date(g.result.birthDate):null}}))}catch(u){console.error("獲取格式化數據失敗:",u),S({text:"獲取員工數據失敗",snackbarProps:{color:"error"}})}finally{setTimeout(()=>{F.value=!1},300)}},j=async v=>{try{if(!v){z.value=[];return}const{data:u}=await B.get("/department/all",{params:{companyId:v,itemsPerPage:100}});u.success&&(z.value=u.result.data||[],te.value.value=v)}catch(u){console.error("載入部門失敗:",u),S({text:"載入部門資料失敗",snackbarProps:{color:"error"}}),z.value=[]}},W=Re(async v=>{var u,g;try{const{data:n}=await B.post("/user",v);n.success&&(await B.patch(`/tempUser/${De.tempUser._id}/update-after-transfer/${n.result._id}`),Be("transferred",n.result),J.value=!1,S({text:"轉換成功",snackbarProps:{color:"success"}}))}catch(n){console.error("轉換失敗:",n),S({text:((g=(u=n==null?void 0:n.response)==null?void 0:u.data)==null?void 0:g.message)||"轉換失敗",snackbarProps:{color:"error"}})}}),ie=()=>{J.value=!1,R(),F.value=!1};return Q({openTransferDialog:de}),xe(P,async v=>{v?(te.value.value=v,await j(v)):(te.value.value=null,se.value.value=null,z.value=[])}),xe(()=>te.value.value,v=>{v&&(P.value=v)}),(v,u)=>{const g=ll("v-date-input");return b(),U(ul,{modelValue:J.value,"onUpdate:modelValue":u[27]||(u[27]=n=>J.value=n),persistent:"",width:Fe.value},{default:a(()=>[e(il,{ref:"transferForm",onSubmit:al(l(W),["prevent"])},{default:a(()=>[e(Ze,{class:"rounded-lg px-4 py-6"},{default:a(()=>[ve("div",Pl,[e(pe,{icon:"mdi-account-convert",size:"18",class:"me-3"}),u[28]||(u[28]=V("轉為正式員工 "))]),e(k,{class:"py-4"},{default:a(()=>[e(o,{cols:"4",md:"5",class:"d-flex align-center ps-6"},{default:a(()=>[e(G)]),_:1}),e(o,{cols:"4",md:"2",class:"info-title px-0 text-blue-grey-darken-2"},{default:a(()=>u[29]||(u[29]=[V(" 基本資料 ")])),_:1}),e(o,{cols:"4",md:"5",class:"d-flex align-center pe-6"},{default:a(()=>[e(G)]),_:1})]),_:1}),F.value?(b(),U(ce,{key:0,class:"d-flex justify-center align-center",style:{height:"600px"}},{default:a(()=>[e(tl,{indeterminate:"",color:"blue-grey-darken-2",size:ge.value},null,8,["size"])]),_:1})):x("",!0),F.value?x("",!0):(b(),U(ce,{key:1,class:"mt-3 pa-3"},{default:a(()=>[e(k,null,{default:a(()=>[e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(we).value.value,"onUpdate:modelValue":u[0]||(u[0]=n=>l(we).value.value=n),"error-messages":l(we).errorMessage.value,label:"*姓名",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(E).value.value,"onUpdate:modelValue":u[1]||(u[1]=n=>l(E).value.value=n),"error-messages":l(E).errorMessage.value,label:"*英文名",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(ye).value.value,"onUpdate:modelValue":u[2]||(u[2]=n=>l(ye).value.value=n),"error-messages":l(ye).errorMessage.value,label:"*身分證號碼",maxlength:"10",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(g,{modelValue:l(c).value.value,"onUpdate:modelValue":u[3]||(u[3]=n=>l(c).value.value=n),"error-messages":l(c).errorMessage.value,label:"*生日","prepend-icon":"",variant:"outlined",density:"compact",clearable:"","cancel-text":"取消","ok-text":"確認"},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(A,{modelValue:l(Ne).value.value,"onUpdate:modelValue":u[4]||(u[4]=n=>l(Ne).value.value=n),items:oe,"error-messages":l(Ne).errorMessage.value,label:"*性別",variant:"outlined",density:"compact"},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(Me).value.value,"onUpdate:modelValue":u[5]||(u[5]=n=>l(Me).value.value=n),"error-messages":l(Me).errorMessage.value,label:"*手機號碼",maxlength:"10",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(Ce).value.value,"onUpdate:modelValue":u[6]||(u[6]=n=>l(Ce).value.value=n),"error-messages":l(Ce).errorMessage.value,label:"個人Email",type:"email",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(I).value.value,"onUpdate:modelValue":u[7]||(u[7]=n=>l(I).value.value=n),"error-messages":l(I).errorMessage.value,label:"*戶籍地址",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(X).value.value,"onUpdate:modelValue":u[8]||(u[8]=n=>l(X).value.value=n),"error-messages":l(X).errorMessage.value,label:"*聯絡地址",type:"text",variant:"outlined",density:"compact",clearable:""},{"append-inner":a(()=>[e(ml,{location:"top","close-delay":"200"},{activator:a(({cprops:n})=>[e(pe,He(n,{icon:"mdi-content-copy",onClick:Ue}),null,16)]),default:a(()=>[u[30]||(u[30]=V(" 複製戶籍地址 "))]),_:1})]),_:1},8,["modelValue","error-messages"])]),_:1}),l($e)&&!l(qe)?(b(),U(o,{key:0,cols:"6"})):x("",!0),e(o,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(w).value.value,"onUpdate:modelValue":u[9]||(u[9]=n=>l(w).value.value=n),"error-messages":l(w).errorMessage.value,label:"*緊急聯絡人姓名",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(N).value.value,"onUpdate:modelValue":u[10]||(u[10]=n=>l(N).value.value=n),"error-messages":l(N).errorMessage.value,label:"*緊急聯絡人電話",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(Ae).value.value,"onUpdate:modelValue":u[11]||(u[11]=n=>l(Ae).value.value=n),"error-messages":l(Ae).errorMessage.value,label:"緊急聯絡人關係",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})),F.value?x("",!0):(b(),U(k,{key:2,class:"py-4"},{default:a(()=>[e(o,{cols:"3",md:"4",class:"d-flex align-center ps-6"},{default:a(()=>[e(G)]),_:1}),e(o,{cols:"6",md:"4",class:"info-title text-blue-grey-darken-2"},{default:a(()=>u[31]||(u[31]=[V(" 任職資訊 ")])),_:1}),e(o,{cols:"3",md:"4",class:"d-flex align-center pe-6"},{default:a(()=>[e(G)]),_:1})]),_:1})),F.value?x("",!0):(b(),U(ce,{key:3,class:"mt-3 pa-3"},{default:a(()=>[e(k,null,{default:a(()=>[e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(A,{modelValue:P.value,"onUpdate:modelValue":[u[12]||(u[12]=n=>P.value=n),j],"error-messages":l(te).errorMessage.value,items:ue.value,label:"*所屬公司","item-title":"title","item-value":"value",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages","items"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(A,{modelValue:l(se).value.value,"onUpdate:modelValue":u[13]||(u[13]=n=>l(se).value.value=n),items:z.value,"error-messages":l(se).errorMessage.value,"item-title":"name","item-value":"_id",label:"*選擇部門",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(C).value.value,"onUpdate:modelValue":u[14]||(u[14]=n=>l(C).value.value=n),"error-messages":l(C).errorMessage.value,label:"*職稱",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(D).value.value,"onUpdate:modelValue":u[15]||(u[15]=n=>l(D).value.value=n),"error-messages":l(D).errorMessage.value,label:"基本薪資",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(A,{modelValue:l(Se).value.value,"onUpdate:modelValue":u[16]||(u[16]=n=>l(Se).value.value=n),"error-messages":l(Se).errorMessage.value,items:fe.value,"item-title":"title","item-value":"value",label:"*權限",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages","items"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(g,{modelValue:l(re).value.value,"onUpdate:modelValue":u[17]||(u[17]=n=>l(re).value.value=n),"error-messages":l(re).errorMessage.value,label:"*入職日期","prepend-icon":"",variant:"outlined",density:"compact",clearable:"","cancel-text":"取消","ok-text":"確認"},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(Ie).value.value,"onUpdate:modelValue":u[18]||(u[18]=n=>l(Ie).value.value=n),"error-messages":l(Ie).errorMessage.value,label:"*分機號碼",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(Ve).value.value,"onUpdate:modelValue":u[19]||(u[19]=n=>l(Ve).value.value=n),"error-messages":l(Ve).errorMessage.value,label:"*列印編號",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(L).value.value,"onUpdate:modelValue":u[20]||(u[20]=n=>l(L).value.value=n),"error-messages":l(L).errorMessage.value,label:"*科威帳號",type:M.value?"text":"password","append-inner-icon":M.value?"mdi-eye-off":"mdi-eye",variant:"outlined",density:"compact",clearable:"","onClick:appendInner":u[21]||(u[21]=n=>M.value=!M.value)},null,8,["modelValue","error-messages","type","append-inner-icon"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(Z).value.value,"onUpdate:modelValue":u[22]||(u[22]=n=>l(Z).value.value=n),"error-messages":l(Z).errorMessage.value,label:"*科威密碼",type:_.value?"text":"password","append-inner-icon":_.value?"mdi-eye-off":"mdi-eye",variant:"outlined",density:"compact",clearable:"","onClick:appendInner":u[23]||(u[23]=n=>_.value=!_.value)},null,8,["modelValue","error-messages","type","append-inner-icon"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(A,{modelValue:l(T).value.value,"onUpdate:modelValue":u[24]||(u[24]=n=>l(T).value.value=n),items:ne,"error-messages":l(T).errorMessage.value,label:"領隊證",variant:"outlined",density:"compact"},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(ae).value.value,"onUpdate:modelValue":u[25]||(u[25]=n=>l(ae).value.value=n),"error-messages":l(ae).errorMessage.value,label:"*公司Email",type:"email",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(H).value.value,"onUpdate:modelValue":u[26]||(u[26]=n=>l(H).value.value=n),"error-messages":l(H).errorMessage.value,label:"備註",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})),e(sl,{class:"px-3 mt-4"},{default:a(()=>[e(rl),e(O,{color:"red-lighten-1",variant:"outlined",size:ke.value,loading:l(Ee),onClick:ie},{default:a(()=>u[32]||(u[32]=[V(" 取消 ")])),_:1},8,["size","loading"]),e(O,{color:"teal-darken-1",variant:"outlined",type:"submit",class:"ms-1",size:ke.value,loading:l(Ee)},{default:a(()=>u[33]||(u[33]=[V(" 確認轉換 ")])),_:1},8,["size","loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1},8,["modelValue","width"])}}},_l=Ge(zl,[["__scopeId","data-v-2ec0986e"]]),$l={key:0},ql={key:1},El={key:2},jl={key:3},Ol={key:4},hl={class:"d-flex align-center overflow-hidden h-25 pe-0"},Bl={class:"card-title ps-4 py-3"},Fl={__name:"tempUser",setup(We){const{apiAuth:Q}=ol(),h=Je(),De=p(null),Be=t=>{B.value=t,Cl(()=>{De.value&&De.value.openTransferDialog(t)})},J=async t=>{await me(),R&&await R(!0)},B=p(null),{smAndUp:S,mdAndUp:q,lgAndUp:$e,xlAndUp:qe}=el(),ee=$(()=>S.value?"default":"small"),F=$(()=>S.value?64:48),le=p(!1),ke=p([]),ge=p(1),fe=p(10),Ue=p(0),Fe=p(0),be=p([{key:"effectiveDate",order:"asc"}]),Re=p(""),Ee={class:"header-bg"},R=async t=>{t&&(ge.value=1),await me()},we=t=>{t<1&&(t=1);const s=Math.ceil(Ue.value/fe.value);t>s&&(t=s),ge.value=t,me()},E=p(!1),ae=[{title:"生效日期",align:"start",sortable:!0,key:"effectiveDate"},{title:"姓名",align:"start",sortable:!0,key:"name"},{title:"預計公司",align:"start",sortable:!0,key:"company.name"},{title:"預計部門",align:"start",sortable:!0,key:"department.name"},{title:"預計分機",align:"start",sortable:!0,key:"extNumber"},{title:"座位",align:"start",sortable:!0,key:"seatDescription"},{title:"狀態",align:"start",sortable:!0,key:"status"},{title:"操作",align:"start",sortable:!1,key:"actions",minWidth:"100px"}],Ce=$(()=>S.value?q.value?ae:ae.filter(t=>!["extNumber","seatDescription","status"].includes(t.key)):ae.filter(t=>["effectiveDate","name","actions"].includes(t.key))),ye=[{title:"待面試",value:"待面試"},{title:"待入職",value:"待入職"},{title:"已完成",value:"已完成"},{title:"已取消",value:"已取消"}],Ne=[{title:"男性",value:"男性"},{title:"女性",value:"女性"}],Me=t=>({待面試:"warning",待入職:"info",已完成:"success",已取消:"error"})[t]||"grey",c=p({status:"",companyId:"",department:"",effectiveDate:null}),I=p(""),X=p([]),w=p([]),N=p(null),Ae=$(()=>[{title:"全部",value:""},...[...X.value].sort((t,s)=>{const f=t.companyId||"",r=s.companyId||"";return f.localeCompare(r)}).map(t=>({title:t.name,value:t._id}))]),te=$(()=>[...X.value].sort((t,s)=>{const f=t.companyId||"",r=s.companyId||"";return f.localeCompare(r)}).map(t=>({title:t.name,value:t._id}))),se=$(()=>qe.value?"1200":$e.value?"900":q.value?"800":S.value?"600":"100%"),C=p(!1),D=p({open:!1,id:""}),Se=nl({name:i().required("請輸入姓名"),effectiveDate:he().required("請選擇生效日期"),status:i().required("請選擇狀態"),personalEmail:i().transform(t=>t===""?null:t).test("email-format","請輸入正確的Email格式",t=>t?/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(t):!0).nullable(),IDNumber:i().transform(t=>t===""?null:t).test("id-format","身分證號碼格式不正確",t=>t?/^[A-Za-z][12]\d{8}$/.test(t):!0).nullable(),cellphone:i().transform(t=>t===""?null:t).test("phone-format","手機號碼格式不正確",t=>t?/^09\d{8}$/.test(t):!0).nullable(),englishName:i().nullable(),gender:i().nullable(),birthDate:he().nullable(),permanentAddress:i().nullable(),contactAddress:i().nullable(),emergencyName:i().nullable(),emergencyCellphone:i().nullable(),emergencyRelationship:i().nullable(),company:Xe().transform(t=>t===""?null:t).nullable(),department:Xe().transform(t=>t===""?null:t).nullable(),jobTitle:i().nullable(),salary:i().nullable(),extNumber:i().nullable(),seatDescription:i().nullable(),note:i().nullable()}),{handleSubmit:Ie,isSubmitting:re,resetForm:Ve}=dl({validationSchema:Se,initialValues:{name:"",englishName:"",personalEmail:"",IDNumber:"",gender:"",cellphone:"",birthDate:null,permanentAddress:"",contactAddress:"",emergencyName:"",emergencyCellphone:"",emergencyRelationship:"",company:"",department:"",jobTitle:"",salary:"",extNumber:"",effectiveDate:null,status:"待面試",seatDescription:"",note:""}}),T=d("name"),L=d("englishName"),Z=d("personalEmail"),H=d("IDNumber"),P=d("gender"),z=d("cellphone"),ue=d("birthDate"),M=d("permanentAddress"),_=d("contactAddress"),oe=d("emergencyName"),ne=d("emergencyCellphone"),de=d("emergencyRelationship"),j=d("company"),W=d("department"),ie=d("jobTitle"),v=d("salary"),u=d("extNumber"),g=d("effectiveDate"),n=d("status"),Te=d("seatDescription"),Pe=d("note"),vl=()=>{M.value.value&&(_.value.value=M.value.value)},pl=$(()=>{var f;if(!C.value||!((f=D.value)!=null&&f.originalData))return!0;const t={name:T.value.value,englishName:L.value.value,personalEmail:Z.value.value,IDNumber:H.value.value,gender:P.value.value,cellphone:z.value.value,birthDate:ue.value.value,permanentAddress:M.value.value,contactAddress:_.value.value,emergencyName:oe.value.value,emergencyCellphone:ne.value.value,emergencyRelationship:de.value.value,company:j.value.value,department:W.value.value,jobTitle:ie.value.value,salary:v.value.value,extNumber:u.value.value,effectiveDate:g.value.value,status:n.value.value,seatDescription:Te.value.value,note:Pe.value.value},s=D.value.originalData;return Object.entries(t).some(([r,y])=>{if(r==="birthDate"||r==="effectiveDate"){const K=s[r]?new Date(s[r]).toISOString():null,Oe=y?new Date(y).toISOString():null;return K!==Oe}return s[r]!==y})}),cl=t=>{if(!t)return"-";const s=new Date(t);return`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`},ze=async t=>{var s;try{if(D.value.open?N.value=t:c.value={...c.value,companyId:t,department:""},!t){w.value=[];return}const{data:f}=await Q.get("/department/all",{params:{companyId:t,itemsPerPage:100}});f.success?w.value=((s=f.result)==null?void 0:s.data)||[]:(console.warn("找不到該公司的部門"),w.value=[])}catch(f){console.error("載入部門失敗:",f),h({text:"載入部門資料失敗",snackbarProps:{color:"red-lighten-1"}}),w.value=[]}},gl=async()=>{try{const{data:t}=await Q.get("/company/all");t.success&&(X.value=t.result)}catch(t){console.error("載入公司列表失敗:",t),h({text:"載入公司列表失敗",snackbarProps:{color:"red-lighten-1"}})}},me=async()=>{var t,s,f,r;le.value=!0,console.log("Selected date range:",c.value.effectiveDate);try{const y={page:ge.value,itemsPerPage:fe.value,sortBy:((t=be.value[0])==null?void 0:t.key)||"createdAt",sortOrder:((s=be.value[0])==null?void 0:s.order)||"desc",quickSearch:I.value,...c.value,department:c.value.department};c.value.effectiveDate&&c.value.effectiveDate.length>0&&(y.effectiveStartDate=c.value.effectiveDate[0].toISOString(),y.effectiveEndDate=c.value.effectiveDate.length>1?c.value.effectiveDate[c.value.effectiveDate.length-1].toISOString():y.effectiveStartDate),console.log("Query params:",y);const{data:K}=await Q.get("/tempUser/all",{params:y});K.success&&(ke.value=K.result.data,Ue.value=K.result.totalItems)}catch(y){console.error("搜索失败:",y),h({text:((r=(f=y==null?void 0:y.response)==null?void 0:f.data)==null?void 0:r.message)||"搜索失败",snackbarProps:{color:"red-lighten-1"}})}finally{le.value=!1}},fl=()=>{c.value={status:"",companyId:"",department:"",effectiveDate:null},I.value="",me()},bl=Ie(async t=>{var s,f;try{const r={...t,company:t.company||void 0,department:t.department||void 0};D.value.id?await Q.patch(`/tempUser/${D.value.id}`,r):await Q.post("/tempUser",r),await R(!0),Le(),h({text:D.value.id?"更新成功":"新增成功",snackbarProps:{color:"teal-lighten-1"}})}catch(r){h({text:((f=(s=r==null?void 0:r.response)==null?void 0:s.data)==null?void 0:f.message)||"操作失敗",snackbarProps:{color:"red-lighten-1"}})}}),Ke=async t=>{D.value={open:!0,id:(t==null?void 0:t._id)||"",originalData:t?{...t}:null},E.value=!0,t?(C.value=!0,t.company&&(N.value=t.company._id,j.value.value=t.company._id,await ze(t.company._id),t.department&&t.department._id&&(W.value.value=t.department._id)),T.value.value=t.name,L.value.value=t.englishName,Z.value.value=t.personalEmail,H.value.value=t.IDNumber,P.value.value=t.gender,z.value.value=t.cellphone,ue.value.value=t.birthDate?new Date(t.birthDate):null,M.value.value=t.permanentAddress,_.value.value=t.contactAddress,oe.value.value=t.emergencyName,ne.value.value=t.emergencyCellphone,de.value.value=t.emergencyRelationship,ie.value.value=t.jobTitle,v.value.value=t.salary,u.value.value=t.extNumber,g.value.value=t.effectiveDate?new Date(t.effectiveDate):null,n.value.value=t.status,Te.value.value=t.seatDescription,Pe.value.value=t.note):(C.value=!1,N.value=null,w.value=[],Ve()),setTimeout(()=>{E.value=!1},300)},Le=()=>{D.value.open=!1,N.value=null,w.value=[],Ve()},je=p(!1),yl=async()=>{var t,s;try{await Q.delete(`/tempUser/${D.value.id}`),await R(!0),Le(),je.value=!1,h({text:"刪除成功",snackbarProps:{color:"teal-lighten-1"}})}catch(f){h({text:((s=(t=f==null?void 0:f.response)==null?void 0:t.data)==null?void 0:s.message)||"刪除失敗",snackbarProps:{color:"red-lighten-1"}})}};return Dl(async()=>{await me(),await gl()}),xe(I,Ml.debounce(()=>{me()},300)),xe(N,async t=>{t!=null?(j.value.value=t,W.value.value="",await ze(t)):(j.value.value=null,W.value.value="",w.value=[])}),xe(()=>c.value.companyId,async t=>{t?await ze(t):w.value=[]}),xe(j.value,t=>{t&&t.value!==null&&t.value!==void 0&&(N.value=t.value)}),(t,s)=>{const f=ll("v-date-input");return b(),U(Il,{"max-width":"2500"},{default:a(()=>[e(k,null,{default:a(()=>[e(o,{cols:"12",lg:"4",xl:"3"},{default:a(()=>[e(k,null,{default:a(()=>[e(o,{cols:"12",class:"mt-1 px-lg-10"},{default:a(()=>[e(Ze,{class:"elevation-4 rounded-xl py-4 py-sm-8 px-4 px-sm-4 px-xl-8"},{default:a(()=>[e(kl,{class:"font-weight-bold d-flex align-center"},{default:a(()=>s[34]||(s[34]=[V(" 搜尋條件 ")])),_:1}),e(ce,{class:"pa-2"},{default:a(()=>[e(k,null,{default:a(()=>[e(o,{cols:"12",sm:"6",lg:"12"},{default:a(()=>[e(A,{modelValue:c.value.status,"onUpdate:modelValue":s[0]||(s[0]=r=>c.value.status=r),items:ye,label:"狀態","item-title":"title","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"6",lg:"12"},{default:a(()=>[e(A,{modelValue:c.value.companyId,"onUpdate:modelValue":[s[1]||(s[1]=r=>c.value.companyId=r),ze],items:Ae.value,label:"公司","item-title":"title","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),e(o,{cols:"12",sm:"6",lg:"12"},{default:a(()=>[e(A,{modelValue:c.value.department,"onUpdate:modelValue":s[2]||(s[2]=r=>c.value.department=r),items:w.value,label:"部門","item-title":"name","item-value":"_id",variant:"outlined",density:"compact","hide-details":"",clearable:"",disabled:!c.value.companyId},null,8,["modelValue","items","disabled"])]),_:1}),e(o,{cols:"12",sm:"6",lg:"12"},{default:a(()=>[e(f,{modelValue:c.value.effectiveDate,"onUpdate:modelValue":s[3]||(s[3]=r=>c.value.effectiveDate=r),label:"生效日期","prepend-icon":"",variant:"outlined",density:"compact","hide-details":"",clearable:"",multiple:"range","cancel-text":"取消","ok-text":"確認"},null,8,["modelValue"])]),_:1})]),_:1}),e(k,null,{default:a(()=>[e(o,{cols:"12",class:"d-flex justify-end gap-2"},{default:a(()=>[e(k,{class:"d-flex justify-space-between"},{default:a(()=>[e(o,{cols:"3"},{default:a(()=>[e(O,{color:"grey",width:"40",block:"",onClick:fl},{default:a(()=>[e(pe,null,{default:a(()=>s[35]||(s[35]=[V("mdi-refresh")])),_:1})]),_:1})]),_:1}),e(o,{cols:"9",class:"ps-0"},{default:a(()=>[e(O,{color:"cyan-darken-2","prepend-icon":"mdi-magnify",loading:le.value,block:"",onClick:me},{default:a(()=>s[36]||(s[36]=[V(" 搜尋 ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{cols:"12",lg:"8",xl:"9",class:"px-6 ps-lg-4 pe-lg-12 mb-6"},{default:a(()=>[e(k,{class:"elevation-4 rounded-xl py-4 py-sm-8 px-1 px-sm-4 px-md-10 mt-1 bg-white"},{default:a(()=>[e(o,{cols:"12",class:"ps-4 pb-sm-6"},{default:a(()=>s[37]||(s[37]=[ve("h3",null,"招聘資料管理",-1)])),_:1}),e(o,{cols:"12"},{default:a(()=>[e(k,null,{default:a(()=>[e(o,null,{default:a(()=>[e(O,{"prepend-icon":"mdi-account-plus",variant:"outlined",color:"blue-grey-darken-2",onClick:s[4]||(s[4]=r=>Ke(null))},{default:a(()=>s[38]||(s[38]=[V(" 新增招聘資料 ")])),_:1})]),_:1}),e(o,{sm:"4",lg:"3"},{default:a(()=>[e(k,{class:"d-flex align-center"},{default:a(()=>[l(q)?(b(),U(o,{key:0,cols:"2",class:"ps-lg-5"},{default:a(()=>[Qe(e(pe,{icon:"mdi-information",size:"small",color:"blue-grey-darken-2",class:"pe-3 pe-xl-0"},null,512),[[Ye,"可搜尋姓名、個人Email、手機","start"]])]),_:1})):x("",!0),e(o,null,{default:a(()=>[e(m,{modelValue:I.value,"onUpdate:modelValue":s[5]||(s[5]=r=>I.value=r),label:"搜尋","append-inner-icon":"mdi-magnify","base-color":"#666",color:"blue-grey-darken-3",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:a(()=>[(b(),U(Sl,{key:Fe.value,"items-per-page":fe.value,"onUpdate:itemsPerPage":[s[6]||(s[6]=r=>fe.value=r),s[8]||(s[8]=r=>R(!1))],"sort-by":be.value,"onUpdate:sortBy":[s[7]||(s[7]=r=>be.value=r),s[9]||(s[9]=r=>R(!1))],page:ge.value,density:"compact",class:"rounded-ts-lg rounded-te-lg py-3","items-per-page-options":[10,20,50],items:ke.value,headers:Ce.value,"header-props":Ee,loading:le.value,"items-length":Ue.value,search:Re.value,hover:"","onUpdate:page":we},{item:a(({item:r,index:y})=>{var K,Oe;return[ve("tr",{class:wl({"odd-row":y%2===0,"even-row":y%2!==0})},[ve("td",null,Y(cl(r.effectiveDate)),1),ve("td",null,Y(r.name),1),l(S)?(b(),_e("td",$l,Y(((K=r.company)==null?void 0:K.name)||""),1)):x("",!0),l(S)?(b(),_e("td",ql,Y(((Oe=r.department)==null?void 0:Oe.name)||""),1)):x("",!0),l(q)?(b(),_e("td",El,Y(r.extNumber),1)):x("",!0),l(q)?(b(),_e("td",jl,Y(r.seatDescription),1)):x("",!0),l(q)?(b(),_e("td",Ol,[e(Ul,{color:Me(r.status),size:"small"},{default:a(()=>[V(Y(r.status),1)]),_:2},1032,["color"])])):x("",!0),ve("td",hl,[e(O,{icon:"",color:"light-blue-darken-4",variant:"plain",width:"28",size:ee.value,ripple:!1,onClick:Vl=>Ke(r)},{default:a(()=>[e(pe,null,{default:a(()=>s[39]||(s[39]=[V("mdi-pencil")])),_:1})]),_:2},1032,["size","onClick"]),r.status==="待入職"?Qe((b(),U(O,{key:0,icon:"",color:"teal-darken-1",variant:"plain",width:"28",class:"ms-2",size:ee.value,ripple:!1,onClick:Vl=>Be(r)},{default:a(()=>[e(pe,null,{default:a(()=>s[40]||(s[40]=[V("mdi-account-convert")])),_:1})]),_:2},1032,["size","onClick"])),[[Ye,"轉為正式員工","top"]]):x("",!0)])],2)]}),_:1},8,["items-per-page","sort-by","page","items","headers","loading","items-length","search"]))]),_:1})]),_:1})]),_:1})]),_:1}),e(ul,{modelValue:D.value.open,"onUpdate:modelValue":s[32]||(s[32]=r=>D.value.open=r),persistent:"",width:se.value},{default:a(()=>[e(il,{ref:"tempForm",disabled:l(re),onSubmit:al(l(bl),["prevent"])},{default:a(()=>[e(Ze,{class:"rounded-lg px-4 py-6"},{default:a(()=>[ve("div",Bl,Y(D.value.id?"招聘資料編輯":"新增招聘資料"),1),e(k,{class:"py-4"},{default:a(()=>[e(o,{cols:"4",md:"5",class:"d-flex align-center ps-6"},{default:a(()=>[e(G)]),_:1}),e(o,{cols:"4",md:"2",class:"info-title px-0 text-blue-grey-darken-2"},{default:a(()=>s[41]||(s[41]=[V(" 基本資料 ")])),_:1}),e(o,{cols:"4",md:"5",class:"d-flex align-center pe-6"},{default:a(()=>[e(G)]),_:1})]),_:1}),E.value&&C.value?(b(),U(ce,{key:0,class:"d-flex justify-center align-center",style:{height:"600px"}},{default:a(()=>[e(tl,{indeterminate:"",color:"blue-grey-darken-2",size:F.value},null,8,["size"])]),_:1})):x("",!0),!E.value||!C.value?(b(),U(ce,{key:1,class:"mt-3 pa-3"},{default:a(()=>[e(k,null,{default:a(()=>[e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(T).value.value,"onUpdate:modelValue":s[10]||(s[10]=r=>l(T).value.value=r),"error-messages":l(T).errorMessage.value,label:"*姓名",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(L).value.value,"onUpdate:modelValue":s[11]||(s[11]=r=>l(L).value.value=r),"error-messages":l(L).errorMessage.value,label:"英文名",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(H).value.value,"onUpdate:modelValue":s[12]||(s[12]=r=>l(H).value.value=r),"error-messages":l(H).errorMessage.value,label:"身分證號碼",maxlength:"10",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(f,{modelValue:l(ue).value.value,"onUpdate:modelValue":s[13]||(s[13]=r=>l(ue).value.value=r),"error-messages":l(ue).errorMessage.value,label:"生日","prepend-icon":"",variant:"outlined",density:"compact",clearable:"","cancel-text":"取消","ok-text":"確認"},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(A,{modelValue:l(P).value.value,"onUpdate:modelValue":s[14]||(s[14]=r=>l(P).value.value=r),items:Ne,"error-messages":l(P).errorMessage.value,label:"性別",variant:"outlined",density:"compact"},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(z).value.value,"onUpdate:modelValue":s[15]||(s[15]=r=>l(z).value.value=r),"error-messages":l(z).errorMessage.value,label:"手機號碼",maxlength:"10",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(Z).value.value,"onUpdate:modelValue":s[16]||(s[16]=r=>l(Z).value.value=r),"error-messages":l(Z).errorMessage.value,label:"個人Email",type:"email",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(M).value.value,"onUpdate:modelValue":s[17]||(s[17]=r=>l(M).value.value=r),"error-messages":l(M).errorMessage.value,label:"戶籍地址",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(_).value.value,"onUpdate:modelValue":s[18]||(s[18]=r=>l(_).value.value=r),"error-messages":l(_).errorMessage.value,label:"聯絡地址",type:"text",variant:"outlined",density:"compact",clearable:""},{"append-inner":a(()=>[e(ml,{location:"top","close-delay":"200"},{activator:a(({props:r})=>[e(pe,He(r,{icon:"mdi-content-copy",onClick:vl}),null,16)]),default:a(()=>[s[42]||(s[42]=V(" 複製戶籍地址 "))]),_:1})]),_:1},8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(oe).value.value,"onUpdate:modelValue":s[19]||(s[19]=r=>l(oe).value.value=r),"error-messages":l(oe).errorMessage.value,label:"緊急聯絡人姓名",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(ne).value.value,"onUpdate:modelValue":s[20]||(s[20]=r=>l(ne).value.value=r),"error-messages":l(ne).errorMessage.value,label:"緊急聯絡人電話",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(de).value.value,"onUpdate:modelValue":s[21]||(s[21]=r=>l(de).value.value=r),"error-messages":l(de).errorMessage.value,label:"緊急聯絡人關係",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})):x("",!0),!E.value||!C.value?(b(),U(k,{key:2,class:"py-4"},{default:a(()=>[e(o,{cols:"3",md:"4",class:"d-flex align-center ps-6"},{default:a(()=>[e(G)]),_:1}),e(o,{cols:"6",md:"4",class:"info-title text-blue-grey-darken-2"},{default:a(()=>s[43]||(s[43]=[V(" 預計任職資訊 ")])),_:1}),e(o,{cols:"3",md:"4",class:"d-flex align-center pe-6"},{default:a(()=>[e(G)]),_:1})]),_:1})):x("",!0),!E.value||!C.value?(b(),U(ce,{key:3,class:"mt-3 pa-3"},{default:a(()=>[e(k,null,{default:a(()=>[e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(f,{modelValue:l(g).value.value,"onUpdate:modelValue":s[22]||(s[22]=r=>l(g).value.value=r),"error-messages":l(g).errorMessage.value,label:"*生效日期","prepend-icon":"",variant:"outlined",density:"compact",clearable:"","cancel-text":"取消","ok-text":"確認"},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(A,{modelValue:l(n).value.value,"onUpdate:modelValue":s[23]||(s[23]=r=>l(n).value.value=r),"error-messages":l(n).errorMessage.value,items:ye,"item-title":"title","item-value":"value",label:"*狀態",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(A,{modelValue:N.value,"onUpdate:modelValue":[s[24]||(s[24]=r=>N.value=r),ze],"error-messages":l(j).errorMessage.value,items:te.value,label:"所屬公司","item-title":"title","item-value":"value",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages","items"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(A,{modelValue:l(W).value.value,"onUpdate:modelValue":s[25]||(s[25]=r=>l(W).value.value=r),items:w.value,"error-messages":l(W).errorMessage.value,"item-title":"name","item-value":"_id",label:"選擇部門",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(ie).value.value,"onUpdate:modelValue":s[26]||(s[26]=r=>l(ie).value.value=r),"error-messages":l(ie).errorMessage.value,label:"預計職稱",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(v).value.value,"onUpdate:modelValue":s[27]||(s[27]=r=>l(v).value.value=r),"error-messages":l(v).errorMessage.value,label:"預計薪資",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(u).value.value,"onUpdate:modelValue":s[28]||(s[28]=r=>l(u).value.value=r),"error-messages":l(u).errorMessage.value,label:"預計分機號碼",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(Te).value.value,"onUpdate:modelValue":s[29]||(s[29]=r=>l(Te).value.value=r),"error-messages":l(Te).errorMessage.value,label:"座位描述",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:a(()=>[e(m,{modelValue:l(Pe).value.value,"onUpdate:modelValue":s[30]||(s[30]=r=>l(Pe).value.value=r),"error-messages":l(Pe).errorMessage.value,label:"備註",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})):x("",!0),e(sl,{class:"px-3 mt-4"},{default:a(()=>[e(Tl,null,{default:a(({isHovering:r,props:y})=>[C.value?(b(),U(O,He({key:0},y,{color:r?"red-lighten-1":"grey",variant:"outlined","prepend-icon":"mdi-delete",size:ee.value,onClick:s[31]||(s[31]=K=>je.value=!0)}),{default:a(()=>s[44]||(s[44]=[V(" 永久刪除 ")])),_:2},1040,["color","size"])):x("",!0)]),_:1}),e(rl),e(O,{color:"red-lighten-1",variant:"outlined",size:ee.value,loading:l(re),onClick:Le},{default:a(()=>s[45]||(s[45]=[V(" 取消 ")])),_:1},8,["size","loading"]),e(O,{color:"teal-darken-1",variant:"outlined",type:"submit",class:"ms-1",size:ee.value,loading:l(re),disabled:C.value&&!pl.value},{default:a(()=>s[46]||(s[46]=[V(" 送出 ")])),_:1},8,["size","loading","disabled"])]),_:1})]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1},8,["modelValue","width"]),e(Al,{modelValue:je.value,"onUpdate:modelValue":s[33]||(s[33]=r=>je.value=r),title:"確認刪除招聘資料",message:`確定要刪除「<span class='text-pink-lighten-1' style='font-weight: 800;'>${l(T).value.value}</span>」的招聘資料嗎？ 此操作無法復原。`,"expected-name":l(T).value.value,"input-label":"輸入欲刪除姓名",onConfirm:yl},null,8,["modelValue","message","expected-name"]),B.value?(b(),U(_l,{key:0,ref_key:"transferDialog",ref:De,"temp-user":B.value,onTransferred:J},null,8,["temp-user"])):x("",!0)]),_:1})}}},sa=Ge(Fl,[["__scopeId","data-v-827fc92a"]]);export{sa as default};
