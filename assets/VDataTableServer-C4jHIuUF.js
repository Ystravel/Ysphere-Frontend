import{a as Z,b as $,c as ee,d as ae,e as te,f as oe,g as le,h as re,p as se,i as de,j as ue,k as ne,l as ie,n as ce,o as me,q as T,r as V,s as x}from"./VDataTable-CFproBVZ.js";import{p as ge,g as ve,bE as be,o as m,t as l,b7 as pe,q as Pe,u as fe,c as o,U as w,H as g}from"./index-BcKy3KB6.js";import{b as B}from"./VTable-DaS1dguR.js";import{V as he}from"./VDivider-DlUm95VZ.js";const ye=ge({itemsLength:{type:[Number,String],required:!0},...Z(),...$(),...ee()},"VDataTableServer"),xe=ve()({name:"VDataTableServer",props:ye(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,I){let{attrs:k,slots:a}=I;const{groupBy:d}=ae(e),{sortBy:r,multiSort:R,mustSort:E}=te(e),{page:u,itemsPerPage:i}=oe(e),{disableSort:F}=be(e),G=m(()=>parseInt(e.itemsLength,10)),{columns:v,headers:H}=le(e,{groupBy:d,showSelect:l(e,"showSelect"),showExpand:l(e,"showExpand")}),{items:n}=re(e,v),{toggleSort:b}=se({sortBy:r,multiSort:R,mustSort:E,page:u}),{opened:N,isGroupOpen:_,toggleGroup:q,extractRows:C}=de({groupBy:d,sortBy:r,disableSort:F}),{pageCount:L,setItemsPerPage:O}=ue({page:u,itemsPerPage:i,itemsLength:G}),{flatItems:p}=ne(n,d,N),{isSelected:j,select:A,selectAll:U,toggleSelect:W,someSelected:z,allSelected:J}=ie(e,{allItems:n,currentPage:n}),{isExpanded:K,toggleExpand:M}=ce(e),P=m(()=>C(n.value));me({page:u,itemsPerPage:i,sortBy:r,groupBy:d,search:l(e,"search")}),pe("v-data-table",{toggleSort:b,sortBy:r}),Pe({VDataTableRows:{hideNoData:l(e,"hideNoData"),noDataText:l(e,"noDataText"),loading:l(e,"loading"),loadingText:l(e,"loadingText")}});const t=m(()=>({page:u.value,itemsPerPage:i.value,sortBy:r.value,pageCount:L.value,toggleSort:b,setItemsPerPage:O,someSelected:z.value,allSelected:J.value,isSelected:j,select:A,selectAll:U,toggleSelect:W,isExpanded:K,toggleExpand:M,isGroupOpen:_,toggleGroup:q,items:P.value.map(c=>c.raw),internalItems:P.value,groupedItems:p.value,columns:v.value,headers:H.value}));fe(()=>{const c=T.filterProps(e),Q=V.filterProps(e),X=x.filterProps(e),Y=B.filterProps(e);return o(B,g({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Y),{top:()=>{var s;return(s=a.top)==null?void 0:s.call(a,t.value)},default:()=>{var s,f,h,y,D,S;return a.default?a.default(t.value):o(w,null,[(s=a.colgroup)==null?void 0:s.call(a,t.value),!e.hideDefaultHeader&&o("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[o(V,g(Q,{sticky:e.fixedHeader}),a)]),(f=a.thead)==null?void 0:f.call(a,t.value),!e.hideDefaultBody&&o("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(h=a["body.prepend"])==null?void 0:h.call(a,t.value),a.body?a.body(t.value):o(x,g(k,X,{items:p.value}),a),(y=a["body.append"])==null?void 0:y.call(a,t.value)]),(D=a.tbody)==null?void 0:D.call(a,t.value),(S=a.tfoot)==null?void 0:S.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):!e.hideDefaultFooter&&o(w,null,[o(he,null,null),o(T,c,{prepend:a["footer.prepend"]})])})})}});export{xe as V};
