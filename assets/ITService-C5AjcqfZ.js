import{p as Ee,at as je,au as Me,av as Oe,g as Le,aw as Ge,D as He,ax as Je,o as B,ay as Fe,x as m,z as Be,u as Ke,az as We,aA as $e,aB as Xe,c as l,aC as Ze,H as be,U as ae,aD as A,aE as Qe,aF as Ye,X as _e,aG as el,_ as Re,a1 as h,a2 as Z,a3 as t,ad as te,ae as ll,a8 as r,ah as U,ag as Se,aq as we,a5 as Pe,K as D,am as he,Z as tl,P as al,A as Ae,ar as ol,an as sl,aa as u,a7 as c,ab as ke,a6 as $,a9 as Ve,as as xe,ai as Ie,a4 as nl,aj as il,V as rl}from"./index-DevNroBI.js";import{c as ul,a as ee,u as dl,d as le}from"./vee-validate-BPNmKGLS.js";import{V as cl}from"./VContainer-JW6hH0VX.js";import{a as f,V as L}from"./VRow-BbYW_0eS.js";import{a as ml,V as Ue}from"./VDataTableServer-BJvUQerY.js";import{V as vl}from"./VForm-B0tj83n0.js";import{V as pl}from"./VTextarea-BEt21pvu.js";import{V as Ce}from"./VDivider-C60JccYv.js";import{T as ze}from"./index-CiokznMu.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VList-DKZsGdX4.js";import"./VCheckboxBtn-Co4GKVmI.js";import"./VTooltip-uZgMsiic.js";const fl=Ee({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:s=>typeof s=="boolean"||[1e3,1024].includes(Number(s))},...je({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:s=>s.multiple?[]:null,validator:s=>Me(s).every(x=>x!=null&&typeof x=="object")},...Oe({clearable:!0})},"VFileInput"),gl=Le()({name:"VFileInput",inheritAttrs:!1,props:fl(),emits:{"click:control":s=>!0,"mousedown:control":s=>!0,"update:focused":s=>!0,"update:modelValue":s=>!0},setup(s,x){let{attrs:I,emit:w,slots:g}=x;const{t:G}=Ge(),b=He(s,"modelValue",s.modelValue,i=>Me(i),i=>!s.multiple&&Array.isArray(i)?i[0]:i),{isFocused:C,focus:H,blur:y}=Je(s),M=B(()=>typeof s.showSize!="boolean"?s.showSize:void 0),J=B(()=>(b.value??[]).reduce((i,v)=>{let{size:E=0}=v;return i+E},0)),R=B(()=>Fe(J.value,M.value)),k=B(()=>(b.value??[]).map(i=>{const{name:v="",size:E=0}=i;return s.showSize?`${v} (${Fe(E,M.value)})`:v})),ce=B(()=>{var v;const i=((v=b.value)==null?void 0:v.length)??0;return s.showSize?G(s.counterSizeString,i,R.value):G(s.counterString,i)}),N=m(),oe=m(),z=m(),me=B(()=>C.value||s.active),K=B(()=>["plain","underlined"].includes(s.variant));function T(){var i;z.value!==document.activeElement&&((i=z.value)==null||i.focus()),C.value||H()}function q(i){var v;(v=z.value)==null||v.click()}function se(i){w("mousedown:control",i)}function ne(i){var v;(v=z.value)==null||v.click(),w("click:control",i)}function Q(i){i.stopPropagation(),T(),_e(()=>{b.value=[],el(s["onClick:clear"],i)})}return Be(b,i=>{(!Array.isArray(i)||!i.length)&&z.value&&(z.value.value="")}),Ke(()=>{const i=!!(g.counter||s.counter),v=!!(i||g.details),[E,p]=We(I),{modelValue:De,...V}=$e.filterProps(s),ve=Xe(s);return l($e,be({ref:N,modelValue:b.value,"onUpdate:modelValue":j=>b.value=j,class:["v-file-input",{"v-file-input--chips":!!s.chips,"v-file-input--hide":s.hideInput,"v-input--plain-underlined":K.value},s.class],style:s.style,"onClick:prepend":q},E,V,{centerAffix:!K.value,focused:C.value}),{...g,default:j=>{let{id:P,isDisabled:O,isDirty:Y,isReadonly:_,isValid:pe}=j;return l(Ze,be({ref:oe,"prepend-icon":s.prependIcon,onMousedown:se,onClick:ne,"onClick:clear":Q,"onClick:prependInner":s["onClick:prependInner"],"onClick:appendInner":s["onClick:appendInner"]},ve,{id:P.value,active:me.value||Y.value,dirty:Y.value||s.dirty,disabled:O.value,focused:C.value,error:pe.value===!1}),{...g,default:fe=>{var W;let{props:{class:ge,...ye}}=fe;return l(ae,null,[l("input",be({ref:z,type:"file",readonly:_.value,disabled:O.value,multiple:s.multiple,name:s.name,onClick:S=>{S.stopPropagation(),_.value&&S.preventDefault(),T()},onChange:S=>{if(!S.target)return;const X=S.target;b.value=[...X.files??[]]},onFocus:T,onBlur:y},ye,p),null),l("div",{class:ge},[!!((W=b.value)!=null&&W.length)&&!s.hideInput&&(g.selection?g.selection({fileNames:k.value,totalBytes:J.value,totalBytesReadable:R.value}):s.chips?k.value.map(S=>l(A,{key:S,size:"small",text:S},null)):k.value.join(", "))])])}})},details:v?j=>{var P,O;return l(ae,null,[(P=g.details)==null?void 0:P.call(g,j),i&&l(ae,null,[l("span",null,null),l(Qe,{active:!!((O=b.value)!=null&&O.length),value:ce.value,disabled:s.disabled},g.counter)])])}:void 0})}),Ye({},N,oe,z)}}),yl={__name:"ConfirmDeleteDialog",props:{title:{type:String,default:"確認刪除"},message:{type:String,default:"你確定要刪除這個項目嗎？此操作無法恢復。"},modelValue:Boolean,confirmButtonColor:{type:String,default:"red-lighten-1"},cancelButtonColor:{type:String,default:"grey-darken-1"},confirmButtonText:{type:String,default:"確認"},cancelButtonText:{type:String,default:"取消"},cancelButtonSize:{type:String,default:"small"},confirmButtonSize:{type:String,default:"small"}},emits:["update:modelValue","confirm"],setup(s,{emit:x}){const I=s,w=x,g=m(I.modelValue);Be(()=>I.modelValue,C=>{g.value=C});const G=()=>{w("update:modelValue",!1)},b=()=>{w("confirm"),w("update:modelValue",!1)};return(C,H)=>(h(),Z(he,{modelValue:g.value,"onUpdate:modelValue":H[0]||(H[0]=y=>g.value=y),"max-width":"360",persistent:""},{default:t(()=>[l(te,{class:"rounded-lg"},{default:t(()=>[l(ll,{class:"font-weight-bold mt-4 ms-2"},{default:t(()=>[r(U(s.title),1)]),_:1}),l(Se,{class:"ms-1"},{default:t(()=>[r(U(s.message),1)]),_:1}),l(we,{class:"me-4 mb-2"},{default:t(()=>[l(Pe),l(D,{size:s.cancelButtonSize,color:s.cancelButtonColor,variant:"outlined",onClick:G},{default:t(()=>[r(U(s.cancelButtonText),1)]),_:1},8,["size","color"]),l(D,{size:s.confirmButtonSize,color:s.confirmButtonColor,variant:"outlined",onClick:b},{default:t(()=>[r(U(s.confirmButtonText),1)]),_:1},8,["size","color"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},bl=Re(yl,[["__scopeId","data-v-30ac7ae8"]]),kl={class:"ms-1"},Vl={key:1},xl={class:"card-title ps-4 py-3"},Il={class:"d-flex flex-column gap-4"},Cl={style:{"line-height":"2","font-size":"14px"}},zl={__name:"ITService",setup(s){const{apiAuth:x}=sl(),I=tl(),{smAndUp:w,mdAndUp:g,lgAndUp:G,xlAndUp:b}=al(),C=B(()=>w.value?"default":"small"),H={class:"header-bg"},y=m([]),M=m(!1),J=m(null),R=m([]),k=m([]),ce=m([]),N=m(!1),oe=o=>{J.value=o,M.value=!0},z=[{title:"維修編號",align:"start",key:"ticketId",sortable:!0},{title:"標題",align:"start",key:"title",sortable:!0},{title:"類別",align:"start",key:"category",sortable:!0},{title:"優先度",align:"start",key:"priority",sortable:!0},{title:"狀態",align:"start",key:"status",sortable:!0},{title:"地點",align:"start",key:"location",sortable:!0},{title:"圖片",align:"start",key:"attachments",sortable:!1},{title:"描述",align:"start",key:"description",sortable:!1},{title:"操作",align:"center",key:"actions",sortable:!1,render:o=>o.status==="待處理"?"mdi-pencil":""}],me=B(()=>b.value?z:G.value?z.filter(o=>o.key!=="attachments"):g.value?z.filter(o=>!["attachments","category","priority"].includes(o.key)):z.filter(o=>["ticketId","title","status","actions"].includes(o.key))),K=m(10),T=m(1),q=m([]),se=m([]),ne=m(0),Q=m(!1),i=m(""),v=["硬體問題","軟體問題","網路問題","帳號權限","其他"],E=["低","中","高","緊急"],p=m({open:!1,id:""}),De=m({title:"",category:"",priority:"中",location:"",description:"",attachments:[]}),V=m([]),ve=o=>({待處理:"grey-darken-1",處理中:"blue",待確認:"orange-darken-1",已完成:"green",已取消:"red"})[o]||"grey",j=o=>({低:"green",中:"blue",高:"orange-darken-1",緊急:"red"})[o]||"grey",P=async()=>{var o,e;Q.value=!0;try{const{data:n}=await x.get("/serviceTicket/my-tickets",{params:{page:T.value,limit:K.value,sort:q.value.length?`${q.value[0].order==="desc"?"-":""}${q.value[0].key}`:"-createdAt",search:i.value}});se.value=n.result.data,ne.value=n.result.total}catch(n){console.error("獲取維修請求失敗:",n),I({text:((e=(o=n==null?void 0:n.response)==null?void 0:o.data)==null?void 0:e.message)||"獲取維修請求失敗",snackbarProps:{color:"error"}})}finally{Q.value=!1}},O=()=>{T.value=1,P()},Y=o=>{if(o){if(p.value.id=o._id,o.status!=="待處理"){I({text:'只能編輯或刪除"待處理"狀態的維修請求',snackbarProps:{color:"error"}});return}X.value.value=o.title||"",ie.value.value=o.category||"",re.value.value=o.priority||"",ue.value.value=o.location||"",de.value.value=o.description||"",console.log("從後端獲取的 attachments:",o.attachments);const e=(o.attachments||[]).map(n=>(n.publicId||console.warn("缺少 publicId 的附件:",n),{url:n.url||"",publicId:n.publicId||null,isExisting:!0}));y.value=e,R.value=[...e],console.log("格式化後的 attachments:",y.value)}else p.value.id=null,S(),y.value=[],R.value=[];k.value=[],V.value=[],p.value.open=!0},_=()=>{p.value.open=!1,S(),V.value=[],y.value=[],k.value=[],ce.value=[],R.value=[]},pe=async()=>{var o,e;try{await x.delete(`/serviceTicket/${J.value._id}`),I({text:"維修請求刪除成功",snackbarProps:{color:"success"}}),P(),M.value=!1}catch(n){console.error("刪除維修請求失敗:",n),I({text:((e=(o=n.response)==null?void 0:o.data)==null?void 0:e.message)||"刪除失敗",snackbarProps:{color:"error"}})}},fe=o=>{if(o>=0&&o<y.value.length){const e=y.value.splice(o,1)[0];if(console.log("要移除的附件:",e),e!=null&&e.publicId){const n=e.publicId.includes("tickets/")?e.publicId:`tickets/${e.publicId}`;console.log("待刪除的 fullPublicId:",n),console.log("當前的 tempDeletedImages:",k.value),k.value.includes(n)||(k.value.push(n),console.log("更新後的 tempDeletedImages:",k.value))}}},ge=ul({title:ee().required("請輸入標題"),category:ee().required("請選擇類別").oneOf(["硬體問題","軟體問題","網路問題","帳號權限","其他"],"請選擇有效的類別"),priority:ee().default("中").oneOf(["低","中","高","緊急"],"請選擇有效的優先程度"),location:ee().required("請輸入地點"),description:ee().required("請輸入描述")}),{handleSubmit:ye,isSubmitting:W,resetForm:S}=dl({validationSchema:ge,initialValues:{title:"",category:"",priority:"中",location:"",description:""}}),X=le("title"),ie=le("category"),re=le("priority"),ue=le("location"),de=le("description"),Ne=ye(async o=>{var e,n,a;try{if(p.value.id){if(k.value.length>0){console.log("正在刪除圖片，數量:",k.value.length);const d=k.value.map(F=>{const Te=F.split("tickets/")[1];return console.log(`準備刪除圖片: ${Te}`),x.delete(`/serviceTicket/${p.value.id}/images/${Te}`)});await Promise.all(d),await new Promise(F=>setTimeout(F,500))}if(console.log("正在更新請求基本資料"),await x.patch(`/serviceTicket/${p.value.id}/edit`,o),V.value.length>0){console.log("正在上傳新圖片，數量:",V.value.length);const d=new FormData;V.value.forEach(F=>d.append("images",F)),await x.post(`/serviceTicket/${p.value.id}/images`,d,{headers:{"Content-Type":"multipart/form-data"}})}}else{console.log("正在創建新維修請求");const d=new FormData;d.append("title",o.title),d.append("category",o.category),d.append("priority",o.priority),d.append("location",o.location),d.append("description",o.description),V.value.length>0&&(console.log("附加上傳圖片到新請求，數量:",V.value.length),V.value.forEach(F=>d.append("images",F))),await x.post("/serviceTicket",d,{headers:{"Content-Type":"multipart/form-data"}})}I({text:`維修請求${p.value.id?"更新":"建立"}成功`,snackbarProps:{color:"teal-lighten-1"}}),_(),P()}catch(d){console.error("提交失敗:",d),console.error("錯誤詳情:",(e=d.response)==null?void 0:e.data),I({text:((a=(n=d.response)==null?void 0:n.data)==null?void 0:a.message)||"操作失敗",snackbarProps:{color:"error"}})}}),qe=o=>o?(p.value.id?y.value.filter(a=>!a.isNew).length:0)+o.length>4?(I({text:"最多只能上傳4張圖片",snackbarProps:{color:"warning"}}),!1):o.some(a=>a.size>2*1024*1024)?(I({text:"圖片大小不能超過2MB",snackbarProps:{color:"warning"}}),!1):!0:!0;return Be(V,o=>{if(!qe(o)){V.value=[];return}const e=o.map(n=>({url:URL.createObjectURL(n),publicId:n.name,isExisting:!1}));console.log("新上傳的圖片:",e),y.value=[...R.value.filter(n=>{const a=n.publicId.includes("tickets/")?n.publicId:`tickets/${n.publicId}`;return!k.value.includes(a)}),...e],console.log("更新後的圖片列表:",y.value)}),Ae(()=>{P()}),Ae(()=>{const o=localStorage.getItem("itServiceDialogState");if(o){const{form:e,dialogId:n}=JSON.parse(o);De.value=e,p.value.id=n,p.value.open=!0}}),ol(()=>{localStorage.removeItem("itServiceDialogState")}),(o,e)=>(h(),Z(cl,{"max-width":"2200"},{default:t(()=>{var n;return[l(L,{class:"elevation-4 rounded-xl py-4 py-sm-8 px-1 px-sm-10 mt-2 mt-sm-6 mx-0 mx-sm-4 mx-md-10 mb-4 bg-white"},{default:t(()=>[l(f,{cols:"12",class:"ps-3 pb-6 d-flex align-center"},{default:t(()=>[e[16]||(e[16]=u("h3",null," IT維修服務 ",-1)),c(w)?ke((h(),Z($,{key:0,icon:"mdi-information",size:"small",color:"blue-grey-darken-2",class:"ms-4",onClick:e[0]||(e[0]=a=>N.value=!0)},null,512)),[[ze,"← 點擊查看報修相關說明","end"]]):Ve("",!0)]),_:1}),l(f,{cols:"12"},{default:t(()=>[l(L,null,{default:t(()=>[l(f,null,{default:t(()=>[l(L,null,{default:t(()=>[l(f,null,{default:t(()=>[l(D,{"prepend-icon":"mdi-wrench-outline",color:"blue-grey-darken-2",variant:"outlined",onClick:e[1]||(e[1]=a=>Y(null))},{default:t(()=>e[17]||(e[17]=[r(" 我要報修 ")])),_:1})]),_:1}),l(f,{cols:"6",md:"4",lg:"3",xl:"2",class:"d-flex justify-end align-center"},{default:t(()=>[c(w)?ke((h(),Z($,{key:0,icon:"mdi-information",size:"small",color:"blue-grey-darken-2",class:"me-4"},null,512)),[[ze,"可搜尋維修編號、標題、地點、描述","start"]]):Ve("",!0),l(xe,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a),label:"搜尋","append-inner-icon":"mdi-magnify","base-color":"#666",color:"blue-grey-darken-3",variant:"outlined",density:"compact","hide-details":"",clearable:"",onInput:O},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(f,{cols:"12"},{default:t(()=>[l(ml,{"items-per-page":K.value,"onUpdate:itemsPerPage":e[3]||(e[3]=a=>K.value=a),"sort-by":q.value,"onUpdate:sortBy":e[4]||(e[4]=a=>q.value=a),page:T.value,"onUpdate:page":e[5]||(e[5]=a=>T.value=a),headers:me.value,items:se.value,loading:Q.value,"items-length":ne.value,"items-per-page-options":[10,20,50],"header-props":H,hover:"",density:"compact",class:"rounded-ts-lg rounded-te-lg py-3","onUpdate:options":P},{"item.status":t(({item:a})=>[l(A,{color:ve(a.status),variant:"outlined",size:"small",label:""},{default:t(()=>[r(U(a.status),1)]),_:2},1032,["color"])]),"item.priority":t(({item:a})=>[l(A,{color:j(a.priority),size:"small",variant:"outlined"},{default:t(()=>[r(U(a.priority),1)]),_:2},1032,["color"])]),"item.attachments":t(({item:a})=>[a.attachments&&a.attachments.length?(h(),Ie(ae,{key:0},[l($,{icon:"mdi-image-multiple",color:"blue-grey"}),u("span",kl," * "+U(a.attachments.length),1)],64)):(h(),Ie("span",Vl,"無"))]),"item.actions":t(({item:a})=>[l(L,{class:"d-flex justify-center my-1"},{default:t(()=>[l(f,{cols:"6",sm:"4",md:"3",lg:"2",class:"py-0 px-0 px-md-4"},{default:t(()=>[l(D,{icon:"",color:"light-blue-darken-4",variant:"plain",width:"28",height:"32",size:C.value,ripple:!1,disabled:a.status!=="待處理",onClick:d=>Y(a)},{default:t(()=>[l($,null,{default:t(()=>e[18]||(e[18]=[r("mdi-pencil")])),_:1})]),_:2},1032,["size","disabled","onClick"])]),_:2},1024),l(f,{cols:"6",sm:"4",md:"3",lg:"2",class:"py-0 px-0 px-md-4"},{default:t(()=>[l(D,{icon:"",color:"red-lighten-1",variant:"plain",width:"28",height:"32",size:C.value,ripple:!1,disabled:a.status!=="待處理",onClick:d=>oe(a)},{default:t(()=>[l($,null,{default:t(()=>e[19]||(e[19]=[r("mdi-delete")])),_:1})]),_:2},1032,["size","disabled","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["items-per-page","sort-by","page","headers","items","loading","items-length"])]),_:1})]),_:1}),l(he,{modelValue:p.value.open,"onUpdate:modelValue":e[12]||(e[12]=a=>p.value.open=a),persistent:"","max-width":"600px"},{default:t(()=>[l(te,{class:"rounded-lg px-4 py-6"},{default:t(()=>[u("div",xl,U(p.value.id?"編輯維修請求":"新增維修請求"),1),l(vl,{disabled:c(W),onSubmit:nl(c(Ne),["prevent"])},{default:t(()=>[l(Se,{class:"pa-4"},{default:t(()=>[l(L,null,{default:t(()=>[l(f,{cols:"12",sm:"6"},{default:t(()=>[l(xe,{modelValue:c(X).value.value,"onUpdate:modelValue":e[6]||(e[6]=a=>c(X).value.value=a),"error-messages":c(X).errorMessage.value,label:"*標題",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue","error-messages"])]),_:1}),l(f,{cols:"12",sm:"6"},{default:t(()=>[l(Ue,{modelValue:c(ie).value.value,"onUpdate:modelValue":e[7]||(e[7]=a=>c(ie).value.value=a),"error-messages":c(ie).errorMessage.value,items:v,label:"*類別",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue","error-messages"])]),_:1}),l(f,{cols:"12",sm:"6"},{default:t(()=>[l(Ue,{modelValue:c(re).value.value,"onUpdate:modelValue":e[8]||(e[8]=a=>c(re).value.value=a),"error-messages":c(re).errorMessage.value,items:E,label:"*優先程度",variant:"outlined",density:"comfortable"},null,8,["modelValue","error-messages"])]),_:1}),l(f,{cols:"12",sm:"6"},{default:t(()=>[l(xe,{modelValue:c(ue).value.value,"onUpdate:modelValue":e[9]||(e[9]=a=>c(ue).value.value=a),"error-messages":c(ue).errorMessage.value,label:"*地點",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue","error-messages"])]),_:1}),l(f,{cols:"12"},{default:t(()=>[l(pl,{modelValue:c(de).value.value,"onUpdate:modelValue":e[10]||(e[10]=a=>c(de).value.value=a),"error-messages":c(de).errorMessage.value,label:"*描述",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue","error-messages"])]),_:1}),y.value.length>0?(h(),Z(f,{key:0,cols:"12",class:"pt-0"},{default:t(()=>[l(te,{flat:"",class:"py-2 px-4",style:{border:"1px solid #a1a1a1"}},{default:t(()=>[e[20]||(e[20]=u("div",{style:{"font-size":"15px"},class:"ps-2"}," 現有圖片 ",-1)),l(L,{class:"ma-0"},{default:t(()=>[(h(!0),Ie(ae,null,il(y.value,(a,d)=>(h(),Z(f,{key:a.publicId,cols:"4",md:"3",class:"pa-2"},{default:t(()=>[l(te,{class:"position-relative overflow-visible"},{default:t(()=>[l(rl,{src:a.url,"aspect-ratio":"1",cover:""},null,8,["src"]),l(D,{icon:"",size:"x-small",elevation:"4",class:"position-absolute",style:{top:"-6px",right:"-6px"},onClick:F=>fe(d)},{default:t(()=>[l($,{icon:"mdi-close",color:"red-darken-2"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):Ve("",!0),l(f,{cols:"12"},{default:t(()=>[ke(l(gl,{modelValue:V.value,"onUpdate:modelValue":e[11]||(e[11]=a=>V.value=a),label:"上傳圖片(僅限 JPG、PNG、WEBP格式)",variant:"underlined",multiple:"",accept:"image/*","show-size":"",rules:[a=>!a||a.length<=4||"最多只能上傳4張圖片",a=>!a||!a.some(d=>d.size>2e6)||"圖片大小不能超過2MB"]},null,8,["modelValue","rules"]),[[ze,"最多4張，每張圖片大小不超過2MB。請一次選擇所有需上傳圖片。","top"]])]),_:1})]),_:1})]),_:1}),l(we,{class:"pa-4"},{default:t(()=>[l(Pe),l(D,{color:"red-lighten-1",variant:"outlined",size:C.value,onClick:_},{default:t(()=>e[21]||(e[21]=[r(" 取消 ")])),_:1},8,["size"]),l(D,{type:"submit",color:"teal-darken-1",class:"ms-2",variant:"outlined",size:C.value,loading:c(W),disabled:c(W)},{default:t(()=>e[22]||(e[22]=[r(" 確定 ")])),_:1},8,["size","loading","disabled"])]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1},8,["modelValue"]),l(bl,{modelValue:M.value,"onUpdate:modelValue":e[13]||(e[13]=a=>M.value=a),title:"確認刪除",message:`確定要刪除 ${((n=J.value)==null?void 0:n.ticketId)||""} 嗎？此操作無法恢復。`,"confirm-button-text":"確認","confirm-button-color":"error",onConfirm:pe},null,8,["modelValue","message"]),l(he,{modelValue:N.value,"onUpdate:modelValue":e[15]||(e[15]=a=>N.value=a),"max-width":"500"},{default:t(()=>[l(te,{class:"pa-4"},{default:t(()=>[e[42]||(e[42]=u("div",{class:"card-title ps-4 py-3"}," 維修服務相關說明 ",-1)),l(Se,{class:"pa-4"},{default:t(()=>[l(L,null,{default:t(()=>[l(f,{cols:"12"},{default:t(()=>[u("div",Il,[u("div",Cl,[e[24]||(e[24]=r(" (1) ")),e[25]||(e[25]=u("span",{style:{"font-size":"15px","font-weight":"600"}},"狀態",-1)),e[26]||(e[26]=r(" : ")),e[27]||(e[27]=u("br",null,null,-1)),e[28]||(e[28]=r("僅限狀態為")),l(A,{color:"grey-darken-1",size:"small",variant:"outlined",label:"",class:"mx-2"},{default:t(()=>e[23]||(e[23]=[r(" 待處理 ")])),_:1}),e[29]||(e[29]=r("時，才能使用「編輯 ")),l($,{icon:"mdi-pencil",size:"small",color:"light-blue-darken-4"}),e[30]||(e[30]=r("」及「刪除")),l($,{icon:"mdi-delete",size:"small",color:"red-lighten-1"}),e[31]||(e[31]=r("」功能。 "))]),e[40]||(e[40]=u("div",{style:{"line-height":"2","font-size":"14px"},class:"mb-2"},[r(" (2) "),u("span",{style:{"font-size":"15px","font-weight":"600"}},"優先度"),r(" : ")],-1)),u("div",null,[l(A,{color:"red",size:"small",variant:"outlined",class:"mb-2"},{default:t(()=>e[32]||(e[32]=[r(" 緊急 ")])),_:1}),e[33]||(e[33]=u("div",{class:"text-body-1 mt-1"},[r(" 系統完全無法運作或造成重大業務影響，需要立即處理的問題。 "),u("br"),r(" 例如：系統當機、網路完全中斷、資料遺失等。 ")],-1))]),l(Ce,{class:"my-4"}),u("div",null,[l(A,{color:"orange-darken-1",size:"small",variant:"outlined",class:"mb-2"},{default:t(()=>e[34]||(e[34]=[r(" 高 ")])),_:1}),e[35]||(e[35]=u("div",{class:"text-body-1 mt-1"},[r(" 影響工作進行但有暫時替代方案，需要優先處理的問題。 "),u("br"),r(" 例如：系統緩慢、部分功能異常、列印設備故障等。 ")],-1))]),l(Ce,{class:"my-4"}),u("div",null,[l(A,{color:"blue",size:"small",variant:"outlined",class:"mb-2"},{default:t(()=>e[36]||(e[36]=[r(" 中 ")])),_:1}),e[37]||(e[37]=u("div",{class:"text-body-1 mt-1"},[r(" 造成不便但不影響主要工作，可以排程處理的問題。 "),u("br"),r(" 例如：軟體安裝、設備維護、功能諮詢等。 ")],-1))]),l(Ce,{class:"my-4"}),u("div",null,[l(A,{color:"green",size:"small",variant:"outlined",class:"mb-2"},{default:t(()=>e[38]||(e[38]=[r(" 低 ")])),_:1}),e[39]||(e[39]=u("div",{class:"text-body-1 mt-1"},[r(" 一般性問題或建議，可以安排在較空閒時處理。 "),u("br"),r(" 例如：新功能建議、系統優化、預防性維護等。 ")],-1))])])]),_:1})]),_:1})]),_:1}),l(we,null,{default:t(()=>[l(Pe),l(D,{color:"grey-darken-1",variant:"outlined",size:C.value,onClick:e[14]||(e[14]=a=>N.value=!1)},{default:t(()=>e[41]||(e[41]=[r(" 關閉 ")])),_:1},8,["size"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]}),_:1}))}},Nl=Re(zl,[["__scopeId","data-v-0d060a93"]]);export{Nl as default};
