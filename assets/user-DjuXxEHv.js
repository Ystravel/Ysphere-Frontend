import{aX as $l,p as _e,m as Tl,a as Ul,f as Pt,g as ze,l as Nt,n as Rt,_ as Et,aY as Bt,x as V,o as O,s as tl,z as oe,aZ as At,c as l,K as F,u as Le,ag as Oe,aQ as $t,a_ as Tt,a$ as Ut,b0 as Ml,b1 as Mt,F as Yt,b2 as Ot,ah as _t,b3 as zt,v as nl,X as Lt,aS as Yl,J as jt,b4 as Wt,U as Ve,H as ce,aJ as Ht,b5 as qt,b6 as Ft,D as Ol,b7 as Xt,b8 as Jt,b9 as Gt,h as Zt,t as Te,R as Kt,q as Qt,ba as yl,bb as en,a6 as T,a7 as q,a8 as s,af as W,ao as te,ad as E,an as j,ac as n,ap as Ha,ay as Pa,a0 as _l,a5 as zl,ae as X,w as an,ai as La,ab as ge,ax as $,a1 as ln,a2 as tn,P as nn,aW as hl,A as Vl,aw as sn,as as Dl,at as on,am as Ca,bc as un,az as Sl,aj as rn,av as Il,aa as kl,a9 as dn,aV as cn}from"./index-CqXaXy7O.js";import{l as xl}from"./lodash-DHyxJ22h.js";import{c as Cl,a as k,d as le,f as ll,g as wl,h as Pl,u as mn,b}from"./index.esm-DIWB2yw6.js";import{u as re,_ as vn,E as pn,a as gn}from"./useROCDate-DUtsR3ZS.js";import{C as fn}from"./ConfirmDeleteDialogWithTextField-C9i900xy.js";import{V as bn}from"./VCombobox-DUyAuwLC.js";import{V as L,a as d}from"./VRow-6WrBPs_F.js";import{V as yn}from"./VContainer-fMtVW-Y8.js";import{V as Q,a as hn}from"./VDataTableServer-BvZJvbZ_.js";import{b as Nl,V as Rl,a as El}from"./VList-g9xWPP6R.js";import{V as Vn}from"./VForm-Cs_O0yKI.js";import{V as Dn}from"./VTooltip-CAd-vhuz.js";import{V as wa}from"./VDivider-DikfYAF-.js";import{V as Sn}from"./VAutocomplete-BiE-vjpY.js";import{V as In}from"./VHover-BIdPlEXV.js";import{T as za}from"./index-CziCRho8.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VCheckboxBtn-CHw2ppw1.js";const kn=o=>{const{touchstartX:c,touchendX:i,touchstartY:u,touchendY:S}=o,g=.5,f=16;o.offsetX=i-c,o.offsetY=S-u,Math.abs(o.offsetY)<g*Math.abs(o.offsetX)&&(o.left&&i<c-f&&o.left(o),o.right&&i>c+f&&o.right(o)),Math.abs(o.offsetX)<g*Math.abs(o.offsetY)&&(o.up&&S<u-f&&o.up(o),o.down&&S>u+f&&o.down(o))};function xn(o,c){var u;const i=o.changedTouches[0];c.touchstartX=i.clientX,c.touchstartY=i.clientY,(u=c.start)==null||u.call(c,{originalEvent:o,...c})}function Cn(o,c){var u;const i=o.changedTouches[0];c.touchendX=i.clientX,c.touchendY=i.clientY,(u=c.end)==null||u.call(c,{originalEvent:o,...c}),kn(c)}function wn(o,c){var u;const i=o.changedTouches[0];c.touchmoveX=i.clientX,c.touchmoveY=i.clientY,(u=c.move)==null||u.call(c,{originalEvent:o,...c})}function Pn(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const c={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:o.left,right:o.right,up:o.up,down:o.down,start:o.start,move:o.move,end:o.end};return{touchstart:i=>xn(i,c),touchend:i=>Cn(i,c),touchmove:i=>wn(i,c)}}function Nn(o,c){var I;const i=c.value,u=i!=null&&i.parent?o.parentElement:o,S=(i==null?void 0:i.options)??{passive:!0},g=(I=c.instance)==null?void 0:I.$.uid;if(!u||!g)return;const f=Pn(c.value);u._touchHandlers=u._touchHandlers??Object.create(null),u._touchHandlers[g]=f,$l(f).forEach(P=>{u.addEventListener(P,f[P],S)})}function Rn(o,c){var g,f;const i=(g=c.value)!=null&&g.parent?o.parentElement:o,u=(f=c.instance)==null?void 0:f.$.uid;if(!(i!=null&&i._touchHandlers)||!u)return;const S=i._touchHandlers[u];$l(S).forEach(I=>{i.removeEventListener(I,S[I])}),delete i._touchHandlers[u]}const Ll={mounted:Nn,unmounted:Rn},jl=Symbol.for("vuetify:v-window"),Wl=Symbol.for("vuetify:v-window-group"),Hl=_e({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:o=>typeof o=="boolean"||o==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Tl(),...Ul(),...Pt()},"VWindow"),Bl=ze()({name:"VWindow",directives:{Touch:Ll},props:Hl(),emits:{"update:modelValue":o=>!0},setup(o,c){let{slots:i}=c;const{themeClasses:u}=Nt(o),{isRtl:S}=Rt(),{t:g}=Et(),f=Bt(o,Wl),I=V(),P=O(()=>S.value?!o.reverse:o.reverse),B=tl(!1),N=O(()=>{const U=o.direction==="vertical"?"y":"x",J=(P.value?!B.value:B.value)?"-reverse":"";return`v-window-${U}${J}-transition`}),D=tl(0),m=V(void 0),M=O(()=>f.items.value.findIndex(U=>f.selected.value.includes(U.id)));oe(M,(U,_)=>{const J=f.items.value.length,ue=J-1;J<=2?B.value=U<_:U===ue&&_===0?B.value=!0:U===0&&_===ue?B.value=!1:B.value=U<_}),At(jl,{transition:N,isReversed:B,transitionCount:D,transitionHeight:m,rootRef:I});const p=O(()=>o.continuous||M.value!==0),y=O(()=>o.continuous||M.value!==f.items.value.length-1);function Y(){p.value&&f.prev()}function x(){y.value&&f.next()}const h=O(()=>{const U=[],_={icon:S.value?o.nextIcon:o.prevIcon,class:`v-window__${P.value?"right":"left"}`,onClick:f.prev,"aria-label":g("$vuetify.carousel.prev")};U.push(p.value?i.prev?i.prev({props:_}):l(F,_,null):l("div",null,null));const J={icon:S.value?o.prevIcon:o.nextIcon,class:`v-window__${P.value?"left":"right"}`,onClick:f.next,"aria-label":g("$vuetify.carousel.next")};return U.push(y.value?i.next?i.next({props:J}):l(F,J,null):l("div",null,null)),U}),A=O(()=>o.touch===!1?o.touch:{...{left:()=>{P.value?Y():x()},right:()=>{P.value?x():Y()},start:_=>{let{originalEvent:J}=_;J.stopPropagation()}},...o.touch===!0?{}:o.touch});return Le(()=>Oe(l(o.tag,{ref:I,class:["v-window",{"v-window--show-arrows-on-hover":o.showArrows==="hover"},u.value,o.class],style:o.style},{default:()=>{var U,_;return[l("div",{class:"v-window__container",style:{height:m.value}},[(U=i.default)==null?void 0:U.call(i,{group:f}),o.showArrows!==!1&&l("div",{class:"v-window__controls"},[h.value])]),(_=i.additional)==null?void 0:_.call(i,{group:f})]}}),[[$t("touch"),A.value]])),{group:f}}}),ql=_e({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Tl(),...Tt(),...Ut()},"VWindowItem"),Al=ze()({name:"VWindowItem",directives:{Touch:Ll},props:ql(),emits:{"group:selected":o=>!0},setup(o,c){let{slots:i}=c;const u=Ml(jl),S=Mt(o,Wl),{isBooted:g}=Yt();if(!u||!S)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const f=tl(!1),I=O(()=>g.value&&(u.isReversed.value?o.reverseTransition!==!1:o.transition!==!1));function P(){!f.value||!u||(f.value=!1,u.transitionCount.value>0&&(u.transitionCount.value-=1,u.transitionCount.value===0&&(u.transitionHeight.value=void 0)))}function B(){var p;f.value||!u||(f.value=!0,u.transitionCount.value===0&&(u.transitionHeight.value=nl((p=u.rootRef.value)==null?void 0:p.clientHeight)),u.transitionCount.value+=1)}function N(){P()}function D(p){f.value&&Lt(()=>{!I.value||!f.value||!u||(u.transitionHeight.value=nl(p.clientHeight))})}const m=O(()=>{const p=u.isReversed.value?o.reverseTransition:o.transition;return I.value?{name:typeof p!="string"?u.transition.value:p,onBeforeEnter:B,onAfterEnter:P,onEnterCancelled:N,onBeforeLeave:B,onAfterLeave:P,onLeaveCancelled:N,onEnter:D}:!1}),{hasContent:M}=Ot(o,S.isSelected);return Le(()=>l(zt,{transition:m.value,disabled:!g.value},{default:()=>{var p;return[Oe(l("div",{class:["v-window-item",S.selectedClass.value,o.class],style:o.style},[M.value&&((p=i.default)==null?void 0:p.call(i))]),[[_t,S.isSelected.value]])]}})),{groupItem:S}}}),sl=Symbol.for("vuetify:v-tabs"),En=_e({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Yl(jt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ja=ze()({name:"VTab",props:En(),setup(o,c){let{slots:i,attrs:u}=c;const{textColorClasses:S,textColorStyles:g}=Wt(o,"sliderColor"),f=V(),I=V(),P=O(()=>o.direction==="horizontal"),B=O(()=>{var D,m;return((m=(D=f.value)==null?void 0:D.group)==null?void 0:m.isSelected.value)??!1});function N(D){var M,p;let{value:m}=D;if(m){const y=(p=(M=f.value)==null?void 0:M.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),Y=I.value;if(!y||!Y)return;const x=getComputedStyle(y).color,h=y.getBoundingClientRect(),A=Y.getBoundingClientRect(),U=P.value?"x":"y",_=P.value?"X":"Y",J=P.value?"right":"bottom",ue=P.value?"width":"height",qa=h[U],Fa=A[U],me=qa>Fa?h[J]-A[J]:h[U]-A[U],Na=Math.sign(me)>0?P.value?"right":"bottom":Math.sign(me)<0?P.value?"left":"top":"center",Xa=(Math.abs(me)+(Math.sign(me)<0?h[ue]:A[ue]))/Math.max(h[ue],A[ue])||0,Ja=h[ue]/A[ue]||0,De=1.5;qt(Y,{backgroundColor:[x,"currentcolor"],transform:[`translate${_}(${me}px) scale${_}(${Ja})`,`translate${_}(${me/De}px) scale${_}(${(Xa-1)/De+1})`,"none"],transformOrigin:Array(3).fill(Na)},{duration:225,easing:Ft})}}return Le(()=>{const D=F.filterProps(o);return l(F,ce({symbol:sl,ref:f,class:["v-tab",o.class],style:o.style,tabindex:B.value?0:-1,role:"tab","aria-selected":String(B.value),active:!1},D,u,{block:o.fixed,maxWidth:o.fixed?300:void 0,"onGroup:selected":N}),{...i,default:()=>{var m;return l(Ve,null,[((m=i.default)==null?void 0:m.call(i))??o.text,!o.hideSlider&&l("div",{ref:I,class:["v-tab__slider",S.value],style:g.value},null)])}})}),Ht({},f)}}),Bn=_e({...Yl(Hl(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Fl=ze()({name:"VTabsWindow",props:Bn(),emits:{"update:modelValue":o=>!0},setup(o,c){let{slots:i}=c;const u=Ml(sl,null),S=Ol(o,"modelValue"),g=O({get(){var f;return S.value!=null||!u?S.value:(f=u.items.value.find(I=>u.selected.value.includes(I.id)))==null?void 0:f.value},set(f){S.value=f}});return Le(()=>{const f=Bl.filterProps(o);return l(Bl,ce({_as:"VTabsWindow"},f,{modelValue:g.value,"onUpdate:modelValue":I=>g.value=I,class:["v-tabs-window",o.class],style:o.style,mandatory:!1,touch:!1}),i)}),{}}}),An=_e({...ql()},"VTabsWindowItem"),Wa=ze()({name:"VTabsWindowItem",props:An(),setup(o,c){let{slots:i}=c;return Le(()=>{const u=Al.filterProps(o);return l(Al,ce({_as:"VTabsWindowItem"},u,{class:["v-tabs-window-item",o.class],style:o.style}),i)}),{}}});function $n(o){return o?o.map(c=>en(c)?c:{text:c,value:c}):[]}const Tn=_e({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Xt({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Jt(),...Ul()},"VTabs"),Un=ze()({name:"VTabs",props:Tn(),emits:{"update:modelValue":o=>!0},setup(o,c){let{attrs:i,slots:u}=c;const S=Ol(o,"modelValue"),g=O(()=>$n(o.items)),{densityClasses:f}=Gt(o),{backgroundColorClasses:I,backgroundColorStyles:P}=Zt(Te(o,"bgColor")),{scopeId:B}=Kt();return Qt({VTab:{color:Te(o,"color"),direction:Te(o,"direction"),stacked:Te(o,"stacked"),fixed:Te(o,"fixedTabs"),sliderColor:Te(o,"sliderColor"),hideSlider:Te(o,"hideSlider")}}),Le(()=>{const N=yl.filterProps(o),D=!!(u.window||o.items.length>0);return l(Ve,null,[l(yl,ce(N,{modelValue:S.value,"onUpdate:modelValue":m=>S.value=m,class:["v-tabs",`v-tabs--${o.direction}`,`v-tabs--align-tabs-${o.alignTabs}`,{"v-tabs--fixed-tabs":o.fixedTabs,"v-tabs--grow":o.grow,"v-tabs--stacked":o.stacked},f.value,I.value,o.class],style:[{"--v-tabs-height":nl(o.height)},P.value,o.style],role:"tablist",symbol:sl},B,i),{default:()=>{var m;return[((m=u.default)==null?void 0:m.call(u))??g.value.map(M=>{var p;return((p=u.tab)==null?void 0:p.call(u,{item:M}))??l(ja,ce(M,{key:M.text,value:M.value}),{default:u[`tab.${M.value}`]?()=>{var y;return(y=u[`tab.${M.value}`])==null?void 0:y.call(u,{item:M})}:void 0})})]}}),D&&l(Fl,ce({modelValue:S.value,"onUpdate:modelValue":m=>S.value=m,key:"tabs-window"},B),{default:()=>{var m;return[g.value.map(M=>{var p;return((p=u.item)==null?void 0:p.call(u,{item:M}))??l(Wa,{value:M.value},{default:()=>{var y;return(y=u[`item.${M.value}`])==null?void 0:y.call(u,{item:M})}})}),(m=u.window)==null?void 0:m.call(u)]}})])}),{}}}),se={0:"無",1:"華語導遊",2:"外語導遊",3:"華語領隊",4:"外語領隊"},Mn={class:"d-flex align-center flex-wrap"},Yn={__name:"GuideLicenseSelection",props:{modelValue:{type:Array,default:()=>[]},errorMessages:{type:[String,Array],default:""}},emits:["update:modelValue"],setup(o,{emit:c}){const i=o,u=c,S=Object.entries(se).filter(([N])=>N!=="0").map(([N,D])=>({value:Number(N),title:D})),g=V(i.modelValue.length===0||i.modelValue.length===1&&i.modelValue[0]===0?[{value:0,title:se[0]}]:i.modelValue.filter(N=>N!==0).map(N=>({value:N,title:se[N]}))),f=O(()=>g.value.length===1&&g.value[0].value===0),I=N=>{if(!N||N.length===0){g.value=[{value:0,title:se[0]}],u("update:modelValue",[0]);return}const D=N.filter(m=>m&&(typeof m.value=="number"||typeof m=="number")).map(m=>typeof m=="number"?m:m.value).filter(m=>m!==0);D.length===0?(g.value=[{value:0,title:se[0]}],u("update:modelValue",[0])):(g.value=D.map(m=>({value:m,title:se[m]})),u("update:modelValue",D))},P=()=>{g.value=[{value:0,title:se[0]}],u("update:modelValue",[0])},B=N=>{const D=g.value.filter(m=>m.value!==N.value);D.length===0?(g.value=[{value:0,title:se[0]}],u("update:modelValue",[0])):(g.value=D,u("update:modelValue",D.map(m=>m.value)))};return oe(()=>i.modelValue,N=>{N.length===0||N.length===1&&N[0]===0?g.value=[{value:0,title:se[0]}]:g.value=N.filter(D=>D!==0).map(D=>({value:D,title:se[D]}))},{deep:!0}),(N,D)=>(T(),q(bn,{modelValue:g.value,"onUpdate:modelValue":[D[0]||(D[0]=m=>g.value=m),I],items:n(S),label:"導遊領隊證",variant:"outlined",density:"compact","error-messages":i.errorMessages,multiple:"",chips:!f.value,clearable:"","onClick:clear":P},{selection:s(()=>[W("div",Mn,[f.value?(T(),te(Ve,{key:0},[E(j(n(se)[0]),1)],64)):(T(!0),te(Ve,{key:1},Ha(g.value,m=>(T(),q(Pa,{key:m.value,class:"ma-1",closable:"",size:"small","onClick:close":M=>B(m)},{default:s(()=>[E(j(n(se)[m.value]),1)]),_:2},1032,["onClick:close"]))),128))])]),_:1},8,["modelValue","items","error-messages","chips"]))}},On={class:"d-flex justify-space-between align-center mb-4"},_n={class:"d-flex justify-space-between align-center mb-4 mt-2"},zn={__name:"DependentInsurance",props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(o,{emit:c}){const{convertToROCDate:i}=re(),u=o,S=c,g=p=>{if(!p)return null;if(p instanceof Date)return p;try{const y=new Date(p);return isNaN(y.getTime())?null:y}catch{return null}},I=V((p=>(p||[]).map(y=>({...y,dependentBirthDate:g(y.dependentBirthDate),dependentInsuranceStartDate:g(y.dependentInsuranceStartDate),dependentInsuranceEndDate:g(y.dependentInsuranceEndDate)})))(u.modelValue)),P=V({}),B=(p,y)=>{var h;const Y=`${p}-${y}`;if(!P.value[Y])return"";const x=I.value[p];if(y==="dependentName"&&!((h=x.dependentName)!=null&&h.trim()))return"請輸入受保人姓名";if(y==="dependentIDNumber"){const A=/^[A-Za-z][12]\d{8}$/,U=x.dependentIDNumber;if(!(U!=null&&U.trim()))return"請輸入身分證號碼";if(!A.test(U))return"身分證號碼格式錯誤"}return y==="dependentBirthDate"&&!x.dependentBirthDate?"請選擇出生日期":""},N=()=>{I.value.length<4&&(I.value.push({dependentName:"",dependentIDNumber:"",dependentRelationship:"",dependentBirthDate:null,dependentInsuranceStartDate:null,dependentInsuranceEndDate:null}),S("update:modelValue",I.value))},D=p=>{I.value.splice(p,1),Object.keys(P.value).forEach(y=>{y.startsWith(`${p}-`)&&delete P.value[y]}),S("update:modelValue",I.value)},m=(p,y)=>{P.value[`${p}-${y}`]=!0};oe(()=>u.modelValue,p=>{const y=p.map(h=>({...h,dependentBirthDate:h.dependentBirthDate instanceof Date?h.dependentBirthDate:g(h.dependentBirthDate),dependentInsuranceStartDate:h.dependentInsuranceStartDate instanceof Date?h.dependentInsuranceStartDate:g(h.dependentInsuranceStartDate),dependentInsuranceEndDate:h.dependentInsuranceEndDate instanceof Date?h.dependentInsuranceEndDate:g(h.dependentInsuranceEndDate)})),Y=JSON.stringify(y),x=JSON.stringify(I.value);Y!==x&&(I.value=y)},{deep:!0}),oe(I,p=>{const y=p.map(h=>({...h,dependentBirthDate:h.dependentBirthDate instanceof Date?h.dependentBirthDate:g(h.dependentBirthDate),dependentInsuranceStartDate:h.dependentInsuranceStartDate instanceof Date?h.dependentInsuranceStartDate:g(h.dependentInsuranceStartDate),dependentInsuranceEndDate:h.dependentInsuranceEndDate instanceof Date?h.dependentInsuranceEndDate:g(h.dependentInsuranceEndDate)})),Y=JSON.stringify(y),x=JSON.stringify(I.value);Y!==x&&S("update:modelValue",y)},{deep:!0}),oe(I,p=>{S("update:modelValue",p)},{deep:!0});const M=p=>{if(!p)return"";if(p instanceof Date)return i(p);try{const y=new Date(p);return isNaN(y.getTime())?"":i(y)}catch{return""}};return(p,y)=>{const Y=zl("v-date-input");return T(),q(d,{cols:"12",class:"px-0"},{default:s(()=>[W("div",On,[y[1]||(y[1]=W("div",{class:"text-blue-grey-darken-2 ms-1 info-title",style:{"font-size":"15px"}}," 眷屬加保資料 ",-1)),I.value.length<4?(T(),q(F,{key:0,color:"blue-grey-darken-2",variant:"outlined",size:"small","prepend-icon":"mdi-account-plus",onClick:N},{default:s(()=>y[0]||(y[0]=[E(" 新增眷屬 ")])),_:1})):X("",!0)]),l(an,{group:""},{default:s(()=>[(T(!0),te(Ve,null,Ha(I.value,(x,h)=>(T(),q(La,{key:h,class:"px-4 mb-3",elevation:"0",style:{border:"1px solid #aaa"}},{default:s(()=>[W("div",_n,[W("h5",null,"眷屬 "+j(h+1),1),l(F,{icon:"",color:"red-lighten-1",variant:"plain",size:"small",onClick:A=>D(h)},{default:s(()=>[l(ge,null,{default:s(()=>y[2]||(y[2]=[E("mdi-close")])),_:1})]),_:2},1032,["onClick"])]),l(L,{class:"mb-2"},{default:s(()=>[l(d,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:s(()=>[l($,{modelValue:x.dependentName,"onUpdate:modelValue":A=>x.dependentName=A,"error-messages":B(h,"dependentName"),label:"*眷屬姓名",variant:"outlined",density:"compact",clearable:"",onBlur:A=>m(h,"dependentName")},null,8,["modelValue","onUpdate:modelValue","error-messages","onBlur"])]),_:2},1024),l(d,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:s(()=>[l($,{modelValue:x.dependentIDNumber,"onUpdate:modelValue":A=>x.dependentIDNumber=A,"error-messages":B(h,"dependentIDNumber"),label:"*眷屬身分證號碼",variant:"outlined",density:"compact",clearable:"",maxlength:"10",onBlur:A=>m(h,"dependentIDNumber")},null,8,["modelValue","onUpdate:modelValue","error-messages","onBlur"])]),_:2},1024),l(d,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:s(()=>[l(Y,{modelValue:x.dependentBirthDate,"onUpdate:modelValue":A=>x.dependentBirthDate=A,"error-messages":B(h,"dependentBirthDate"),label:"*眷屬生日","prepend-icon":"",variant:"outlined",density:"compact",clearable:"",hint:M(x.dependentBirthDate),"persistent-hint":"","cancel-text":"取消","ok-text":"確認",onBlur:A=>m(h,"dependentBirthDate"),"onClick:clear":A=>x.dependentBirthDate=null},null,8,["modelValue","onUpdate:modelValue","error-messages","hint","onBlur","onClick:clear"])]),_:2},1024),l(d,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:s(()=>[l($,{modelValue:x.dependentRelationship,"onUpdate:modelValue":A=>x.dependentRelationship=A,label:"眷屬關係",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(d,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:s(()=>[l(Y,{modelValue:x.dependentInsuranceStartDate,"onUpdate:modelValue":A=>x.dependentInsuranceStartDate=A,label:"加保日期","prepend-icon":"",variant:"outlined",density:"compact",clearable:"",hint:n(i)(x.dependentInsuranceStartDate),"persistent-hint":"","cancel-text":"取消","ok-text":"確認","onClick:clear":A=>x.dependentInsuranceStartDate=null},null,8,["modelValue","onUpdate:modelValue","hint","onClick:clear"])]),_:2},1024),l(d,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:s(()=>[l(Y,{modelValue:x.dependentInsuranceEndDate,"onUpdate:modelValue":A=>x.dependentInsuranceEndDate=A,label:"退保日期","prepend-icon":"",variant:"outlined",density:"compact",clearable:"",hint:n(i)(x.dependentInsuranceEndDate),"persistent-hint":"","cancel-text":"取消","ok-text":"確認","onClick:clear":A=>x.dependentInsuranceEndDate=null},null,8,["modelValue","onUpdate:modelValue","hint","onClick:clear"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})}}},Ln=_l(zn,[["__scopeId","data-v-98a7a2a3"]]),jn={class:"d-flex flex-column gap-2"},Wn={key:0},Hn={key:1},qn={key:2},Fn={key:3},Xn={key:4},Jn={key:5},Gn={key:6},Zn={class:"d-flex align-center overflow-hidden h-25"},Kn={class:"list-content ps-4 py-3 mb-4"},Qn={style:{"font-weight":"800"},class:"text-cyan-darken-2"},es={class:"card-title px-4 py-3 d-flex justify-space-between"},as={class:"mb-4"},ls={__name:"user",setup(o){const{apiAuth:c}=on(),i=ln(),u=tn(),{smAndUp:S,mdAndUp:g,lgAndUp:f,xlAndUp:I,name:P}=nn(),B=O(()=>S.value?"default":"small"),N=O(()=>S.value?"64":"default"),D=V(!1),m=V(null),M=V(1),p=V(!1),y={class:"header-bg"},Y=V([]),x=V(""),h=V(!1),A=O(()=>{const e={};return(Y.value||[]).forEach((v,C)=>{var w,r;(w=v.dependentName)!=null&&w.trim()||(e[`dependentInsurance.${C}.dependentName`]="請輸入受保人姓名"),(r=v.dependentIDNumber)!=null&&r.trim()||(e[`dependentInsurance.${C}.dependentIDNumber`]="請輸入身分證號碼"),v.dependentBirthDate||(e[`dependentInsurance.${C}.dependentBirthDate`]="請選擇出生日期")}),e}),U=async(e,a)=>{var v,C;try{x.value=e;const{data:w}=await c.patch(`/user/${e}`,{formStatus:a});if(w.success){const r=ie.value.findIndex(t=>t._id===e);r!==-1&&(ie.value[r].formStatus=a),Da.value++,u({text:"表單狀態更新成功",snackbarProps:{color:"teal-lighten-1"}})}else throw new Error(w.message||"更新失敗")}catch(w){console.error("更新表單狀態失敗:",w),u({text:((C=(v=w.response)==null?void 0:v.data)==null?void 0:C.message)||"更新表單狀態失敗",snackbarProps:{color:"error"}})}finally{x.value=""}},_=V([{title:"入職日期",value:"hireDate"},{title:"離職日期",value:"resignationDate"}]),J=[{title:"否",value:!1},{title:"是",value:!0}],ue=[{title:"否",value:"否"},{title:"輕度",value:"輕度"},{title:"中度",value:"中度"}],qa=[{title:"否",value:!1},{title:"是",value:!0}],Fa=[{title:"1%",value:1},{title:"2%",value:2},{title:"3%",value:3},{title:"4%",value:4},{title:"5%",value:5},{title:"6%",value:6}],me=e=>{switch(e){case"已完成":return"green-darken-1";case"尚未完成":return"pink-lighten-1";case"尚缺資料":return"amber-darken-3";default:return"grey"}},Na=["尚未完成","尚缺資料","已完成"],ol=[{code:"008",name:"華南商業銀行"},{code:"004",name:"臺灣銀行"},{code:"005",name:"台灣土地銀行"},{code:"006",name:"合作金庫銀行"},{code:"007",name:"第一商業銀行"},{code:"009",name:"彰化商業銀行"},{code:"010",name:"花旗(台灣)(原華僑銀行)"},{code:"011",name:"上海商業銀行"},{code:"012",name:"台北富邦銀行"},{code:"013",name:"國泰世華商業銀行"},{code:"016",name:"高雄銀行"},{code:"017",name:"兆豐國際商業銀行"},{code:"021",name:"花旗銀行"},{code:"024",name:"美國運通銀行"},{code:"025",name:"首都銀行"},{code:"039",name:"荷蘭銀行"},{code:"040",name:"中華開發"},{code:"050",name:"台灣中小企業銀行"},{code:"052",name:"渣打國際商銀(原新竹商銀)"},{code:"053",name:"台中商業銀行"},{code:"054",name:"京城商銀"},{code:"057",name:"台東區中小企業銀行"},{code:"072",name:"德意志銀行"},{code:"073",name:"東亞銀行"},{code:"081",name:"匯豐銀行"},{code:"101",name:"稻江商銀"},{code:"102",name:"華泰商業銀行"},{code:"103",name:"新光商業銀行"},{code:"108",name:"陽信商業銀行"},{code:"118",name:"板信商業銀行"},{code:"147",name:"三信商業銀行"},{code:"700",name:"中華郵政"},{code:"803",name:"聯邦商業銀行"},{code:"805",name:"遠東商業銀行"},{code:"806",name:"元大銀行"},{code:"807",name:"永豐銀行"},{code:"808",name:"玉山商業銀行"},{code:"809",name:"萬泰商業銀行"},{code:"810",name:"星展銀行"},{code:"812",name:"台新國際商業銀行"},{code:"815",name:"日盛國際商業銀行"},{code:"816",name:"安泰商業銀行"},{code:"822",name:"中國信託商業銀行"}],Xa=O(()=>ol.map(e=>({title:`(${e.code}) ${e.name}`,value:e.code}))),Ja=async e=>{var a,v;if(ye.value!==e){h.value=!0;try{const{data:C}=await c.patch(`/user/${ee.value.id}`,{formStatus:e});if(C.success){ye.value.value=e;const w=ie.value.findIndex(r=>r._id===ee.value.id);w!==-1&&(ie.value[w].formStatus=e),Da.value++,u({text:"表單狀態更新成功",snackbarProps:{color:"teal-lighten-1"}})}else throw new Error(C.message||"更新失敗")}catch(C){console.error("更新表單狀態失敗:",C),u({text:((v=(a=C.response)==null?void 0:a.data)==null?void 0:v.message)||"更新表單狀態失敗",snackbarProps:{color:"error"}})}finally{h.value=!1}}},De=V("basic"),Ra=V(!1),Ea=V(!1),Ba=V(!1),Aa=V(!1),$a=V(!1),Ta=V(!1),Ua=V(!1),Ga=V(null),Ma=V(""),Za=V(!1),je=V(!1),ee=V({open:!1,id:""}),Ka=V(null),ul=V(null),de=V({open:!1,userId:"",userName:"",loading:!1}),ae=V(null),H=V([]),Xl=V([]),rl=V(Object.entries(hl).map(([e,a])=>({value:Number(e),title:a}))),Jl=O(()=>[...Ya.value].sort((e,a)=>{const v=e.companyId||"",C=a.companyId||"";return v.localeCompare(C)}).map(e=>({title:`${e.name}`,value:e._id}))),Ya=V([]),Gl=O(()=>[{title:"全部",value:""},...[...Ya.value].sort((e,a)=>{const v=e.companyId||"",C=a.companyId||"";return v.localeCompare(C)}).map(e=>({title:e.name,value:e._id}))]),dl=V([{title:"在職",value:"在職"},{title:"離職",value:"離職"},{title:"退休",value:"退休"},{title:"留職停薪",value:"留職停薪"}]),Zl=V([{title:"男性",value:"男性"},{title:"女性",value:"女性"}]),Kl=O(()=>I.value?"1280":f.value?"1080":g.value?"800":S.value?"600":"100%"),Ql=Cl({dependentName:k().required("請輸入受保人姓名"),dependentRelationship:k(),dependentBirthDate:le().nullable().required("請輸入受保人生日"),dependentIDNumber:k().matches(/^[A-Za-z][12]\d{8}$/,"身分證號碼格式錯誤").required("請輸入受保人身分證號碼"),dependentInsuranceStartDate:le().nullable(),dependentInsuranceEndDate:le().nullable()}),et=Cl({email:k().required("請輸入公司 email").email("請輸入正確的 email 格式"),personalEmail:k().email("請輸入正確的 email 格式").nullable(),IDNumber:k().matches(/^[A-Za-z][12]\d{8}$/,"身分證格式錯誤").required("請輸入身分證號碼"),gender:k().required("請選擇姓別"),name:k().required("請輸入姓名"),englishName:k().nullable(),phoneNumber:k().nullable(),cellphone:k().nullable().test("is-valid-cellphone","手機號碼格式錯誤",e=>e?/^09\d{8}$/.test(e):!0),salary:k().nullable(),extNumber:k().nullable(),printNumber:k().nullable(),birthDate:le().nullable().required("請選擇生日"),permanentAddress:k().required("請輸入戶籍地址"),contactAddress:k().required("請輸入聯絡地址"),company:k().required("請選擇所屬公司"),department:k().required("請選擇部門"),jobTitle:k().nullable(),role:ll().required("請選擇使用者身分別"),cowellAccount:k().nullable(),cowellPassword:k().nullable(),userId:k(),employmentStatus:k().required("請選擇任職狀態"),hireDate:le().nullable().required("請選擇入職日期"),resignationDate:le().nullable(),emergencyName:k().nullable(),emergencyPhoneNumber:k().nullable(),emergencyCellphone:k().nullable().test("is-valid-cellphone","手機號碼格式錯誤",e=>e?/^09\d{8}$/.test(e):!0),emergencyRelationship:k().nullable(),note:k().nullable(),healthInsuranceStartDate:le().nullable(),healthInsuranceEndDate:le().nullable(),laborInsuranceStartDate:le().nullable(),laborInsuranceEndDate:le().nullable(),salaryBank:k().nullable(),salaryBankBranch:k().nullable(),salaryAccountNumber:k().nullable(),guideLicense:wl().of(ll().oneOf([0,1,2,3,4],"導遊證類型必須是 0, 1, 2, 3,4 之一")).default([]),tourManager:Pl(),YSRCAccount:k().nullable(),YSRCPassword:k().nullable(),YS168Account:k().nullable(),YS168Password:k().nullable(),disabilityStatus:k().nullable(),indigenousStatus:Pl().nullable(),voluntaryPensionRate:ll().nullable().transform((e,a)=>a===""?null:e),voluntaryPensionStartDate:le().nullable(),voluntaryPensionEndDate:le().nullable(),dependentInsurance:wl().of(Ql).default([]),tourismReportDate:le().nullable(),formStatus:k().nullable()}),{handleSubmit:at,isSubmitting:Qa,resetForm:il}=mn({validationSchema:et,initialValues:{email:"",personalEmail:"",IDNumber:"",gender:"男性",name:"",englishName:"",phoneNumber:"",cellphone:"",salary:"",extNumber:"",printNumber:"",birthDate:null,permanentAddress:"",contactAddress:"",company:"",department:"",jobTitle:"",role:0,cowellAccount:"",cowellPassword:"",userId:"",employmentStatus:"在職",hireDate:new Date,resignationDate:null,emergencyName:"",emergencyPhoneNumber:"",emergencyCellphone:"",emergencyRelationship:"",note:"",healthInsuranceStartDate:null,healthInsuranceEndDate:null,laborInsuranceStartDate:null,laborInsuranceEndDate:null,salaryBank:"008",salaryBankBranch:"",salaryAccountNumber:"",guideLicense:[],tourManager:!1,YSRCAccount:"",YSRCPassword:"",YS168Account:"",YS168Password:"",disabilityStatus:"否",indigenousStatus:!1,voluntaryPensionRate:null,voluntaryPensionStartDate:null,voluntaryPensionEndDate:null,dependentInsurance:[],tourismReportDate:null,formStatus:"尚未完成"},validateOnMount:!1,validateOnChange:!0,validateOnBlur:!0,validateOnInput:!1,context:O(()=>({isEditing:D.value}))}),We=b("email"),He=b("personalEmail"),Ue=b("IDNumber"),fe=b("gender"),qe=b("name"),Fe=b("englishName"),Xe=b("phoneNumber"),Je=b("cellphone"),Ge=b("salary"),Ze=b("extNumber"),Ke=b("printNumber"),Se=b("birthDate"),Ie=b("permanentAddress"),Me=b("contactAddress"),ke=b("company",void 0,{validateOnValueUpdate:!0,validateOnChange:!0}),xe=b("department",void 0,{validateOnValueUpdate:!0,validateOnChange:!0}),Qe=b("jobTitle"),ea=b("role"),aa=b("cowellAccount"),la=b("cowellPassword"),ta=b("userId",void 0,{validateOnValueUpdate:!1,transform:e=>e??""}),Ce=b("employmentStatus"),be=b("hireDate"),ve=b("resignationDate"),na=b("emergencyName"),sa=b("emergencyPhoneNumber"),oa=b("emergencyCellphone"),ua=b("emergencyRelationship"),ra=b("note"),we=b("healthInsuranceStartDate"),Pe=b("healthInsuranceEndDate"),Ne=b("laborInsuranceStartDate"),Re=b("laborInsuranceEndDate"),da=b("salaryBank"),ia=b("salaryBankBranch"),ca=b("salaryAccountNumber"),ma=b("guideLicense"),va=b("tourManager"),pa=b("YSRCAccount"),ga=b("YSRCPassword"),fa=b("YS168Account"),ba=b("YS168Password"),ya=b("disabilityStatus"),ha=b("indigenousStatus"),Va=b("voluntaryPensionRate"),Ee=b("voluntaryPensionStartDate"),Be=b("voluntaryPensionEndDate"),cl=b("dependentInsurance"),Ae=b("tourismReportDate"),ye=b("formStatus"),{rocDate:lt}=re(Se),{rocDate:tt}=re(be),{rocDate:nt}=re(ve),{rocDate:st}=re(we),{rocDate:ot}=re(Pe),{rocDate:ut}=re(Ne),{rocDate:rt}=re(Re),{rocDate:dt}=re(Ee),{rocDate:it}=re(Be),{rocDate:ct}=re(Ae),Oa=V(10),_a=V([{key:"userId",order:"asc"}]),G=V(1),ie=V([]),Da=V(0),Sa=[{title:"員編",align:"left",sortable:!0,key:"userId"},{title:"姓名",align:"left",sortable:!0,key:"name"},{title:"公司Email",align:"left",sortable:!0,key:"email"},{title:"手機",align:"left",sortable:!0,key:"cellphone"},{title:"所屬公司",align:"left",sortable:!0,key:"company.name"},{title:"部門",align:"left",sortable:!0,key:"department.name"},{title:"分機",align:"left",sortable:!0,key:"extNumber"},{title:"身分別",align:"left",sortable:!0,key:"role"},{title:"狀態",align:"left",sortable:!0,key:"employmentStatus"},{title:"表單狀態",align:"left",sortable:!0,key:"formStatus"},{title:"操作",align:"left",sortable:!1,key:"action"}],Ye=V(!0),el=V(0),ml=V(""),R=V({role:"",companyId:"",department:"",gender:"",employmentStatus:"",dateType:"",dateRange:[]}),Ia=V(""),mt=e=>hl[e]||"未知",z=e=>e?new Date(e):null,vt=O(()=>i.isSuperAdmin||i.isHR||i.isAdmin),pt=O(()=>["xl","xxl"].includes(P.value)?Sa:["lg"].includes(P.value)?Sa.filter(e=>e.key!=="employmentStatus"&&e.key!=="cellphone"):["md"].includes(P.value)?Sa.filter(e=>e.key!=="cellphone"&&e.key!=="email"&&e.key!=="employmentStatus"&&e.key!=="formStatus"):["sm"].includes(P.value)?Sa.filter(e=>e.key!=="company.name"&&e.key!=="department.name"&&e.key!=="cellphone"&&e.key!=="email"&&e.key!=="employmentStatus"&&e.key!=="formStatus"):Sa.filter(e=>e.key!=="company.name"&&e.key!=="department.name"&&e.key!=="cellphone"&&e.key!=="email"&&e.key!=="role"&&e.key!=="employmentStatus"&&e.key!=="formStatus")),gt=async()=>{try{const{data:e}=await c.get("/department/all");Xl.value=e.result}catch(e){console.error("加載部門失敗",e),u({text:"加載部門失敗",snackbarProps:{color:"red-lighten-1"}})}},ft=async()=>{try{const{data:e}=await c.get("/company/all");e.success&&(Ya.value=e.result)}catch(e){console.error("載入公司列表失敗:",e),u({text:"載入公司列表失敗",snackbarProps:{color:"red-lighten-1"}})}},bt=async()=>{if(!R.value.companyId){H.value=[];return}try{const{data:e}=await c.get("/department/all",{params:{companyId:R.value.companyId}});e.success?H.value=e.result||[]:(console.warn("找不到該公司的部門"),H.value=[])}catch(e){console.error("載入部門失敗:",e),u({text:"載入部門失敗",snackbarProps:{color:"red-lighten-1"}}),H.value=[]}},$e=async(e,a)=>{e?G.value=1:a&&(G.value=a),await ka()},ka=async()=>{var e,a,v,C;Ye.value=!0,console.log("Selected date range:",R.value.dateRange);try{const w={page:G.value,itemsPerPage:Oa.value,sortBy:((e=_a.value[0])==null?void 0:e.key)||"userId",sortOrder:((a=_a.value[0])==null?void 0:a.order)||"asc",quickSearch:Ia.value,...R.value,department:R.value.department};R.value.dateType&&R.value.dateRange&&R.value.dateRange.length>0&&(w.dateType=R.value.dateType,w.startDate=R.value.dateRange[0].toISOString(),w.endDate=R.value.dateRange[R.value.dateRange.length-1].toISOString()),console.log("Query params:",w);const{data:r}=await c.get("/user/search",{params:w});r.success&&(ie.value=r.result.data,el.value=r.result.totalItems)}catch(w){console.error("搜索失败:",w),u({text:((C=(v=w==null?void 0:w.response)==null?void 0:v.data)==null?void 0:C.message)||"搜索失败",snackbarProps:{color:"error"}})}finally{Ye.value=!1}},yt=async()=>{var e,a;try{de.value.loading=!0,await c.post(`/user/${de.value.userId}/send-initial-password`);const v=ie.value.findIndex(C=>C._id===de.value.userId);v!==-1&&(ie.value[v].isFirstLogin=!1),u({text:"初始密碼已發送成功",snackbarProps:{color:"teal-lighten-1"}}),pl()}catch(v){console.error("發送初始密碼失敗:",v),u({text:((a=(e=v==null?void 0:v.response)==null?void 0:e.data)==null?void 0:a.message)||"發送初始密碼失敗",snackbarProps:{color:"red-lighten-1"}})}finally{de.value.loading=!1}},ht=at(async e=>{var a,v,C,w;try{if(!ae.value){ke.errorMessage.value="請選擇公司",u({text:"請選擇公司",snackbarProps:{color:"red-lighten-1"}});return}if(D.value){const r=G.value,t={...e,company:ae.value,dependentInsurance:Y.value,healthInsuranceStartDate:e.healthInsuranceStartDate,healthInsuranceEndDate:e.healthInsuranceEndDate,laborInsuranceStartDate:e.laborInsuranceStartDate,laborInsuranceEndDate:e.laborInsuranceEndDate,voluntaryPensionStartDate:e.voluntaryPensionStartDate,voluntaryPensionEndDate:e.voluntaryPensionEndDate,birthDate:e.birthDate,hireDate:e.hireDate,tourismReportDate:e.tourismReportDate,resignationDate:e.resignationDate},{data:Z}=await c.patch(`/user/${ee.value.id}`,t),he=ie.value.findIndex(K=>K._id===ee.value.id);he!==-1&&(ie.value[he]={...Z.result,company:Ya.value.find(K=>K._id===ae.value),department:{_id:e.department,name:((a=H.value.find(K=>K._id===e.department))==null?void 0:a.name)||""}}),await $e(!1,r)}else{const r={...e,company:ae.value,dependentInsurance:Y.value};console.log("送出的資料:",{email:r.email,personalEmail:r.personalEmail,name:r.name,englishName:r.englishName,gender:r.gender,IDNumber:r.IDNumber,phoneNumber:r.phoneNumber,cellphone:r.cellphone,birthDate:r.birthDate,permanentAddress:r.permanentAddress,contactAddress:r.contactAddress,emergencyName:r.emergencyName,emergencyPhoneNumber:r.emergencyPhoneNumber,emergencyCellphone:r.emergencyCellphone,emergencyRelationship:r.emergencyRelationship,company:r.company,department:r.department,jobTitle:r.jobTitle,role:r.role,employmentStatus:r.employmentStatus,hireDate:r.hireDate,salary:r.salary,formStatus:r.formStatus,extNumber:r.extNumber,printNumber:r.printNumber,cowellAccount:r.cowellAccount,cowellPassword:r.cowellPassword,YSRCAccount:r.YSRCAccount,YSRCPassword:r.YSRCPassword,YS168Account:r.YS168Account,YS168Password:r.YS168Password,guideLicense:r.guideLicense,tourManager:r.tourManager,disabilityStatus:r.disabilityStatus,indigenousStatus:r.indigenousStatus,healthInsuranceStartDate:r.healthInsuranceStartDate,healthInsuranceEndDate:r.healthInsuranceEndDate,laborInsuranceStartDate:r.laborInsuranceStartDate,laborInsuranceEndDate:r.laborInsuranceEndDate,voluntaryPensionRate:r.voluntaryPensionRate,voluntaryPensionStartDate:r.voluntaryPensionStartDate,voluntaryPensionEndDate:r.voluntaryPensionEndDate,tourismReportDate:r.tourismReportDate,salaryBank:r.salaryBank,salaryBankBranch:r.salaryBankBranch,salaryAccountNumber:r.salaryAccountNumber,dependentInsurance:r.dependentInsurance}),await c.post("/user",r),await $e(!0)}await Promise.all([(v=Ga.value)==null?void 0:v.refreshChart(),(C=Ka.value)==null?void 0:C.refreshChart(),(w=ul.value)==null?void 0:w.refreshData()]),u({text:D.value?"員工資料更新成功":"員工新增成功",snackbarProps:{color:"teal-lighten-1"}}),al()}catch(r){const t=Vt(r);u({text:t,snackbarProps:{color:"red-lighten-1"}})}}),Vt=e=>e.response?{Email已註冊:"Email已經被註冊,請使用其他Email",身分證號碼已註冊:"身分證號碼已經被使用,請確認是否輸入正確",手機號碼已註冊:"手機號碼已經被使用,請確認是否輸入正確",分機號碼已註冊:"分機號碼已經被使用,請使用其他號碼",列印編號已註冊:"列印編號已經存在,請使用其他編號",員工編號已註冊:"員工編號已經被使用,請重新輸入",科威帳號已註冊:"科威帳號已經被使用,請使用其他帳號",科威密碼已註冊:"科威密碼已經被使用,請使用其他密碼"}[e.response.data.message]||e.response.data.message:"發生錯誤",vl=async e=>{var a,v;if(je.value=!0,!vt.value){u({text:"權限不足",snackbarProps:{color:"red-lighten-1"}});return}je.value=!0,Za.value=!0,M.value=G.value,ee.value.open=!0,e?(D.value=!0,ee.value.id=e._id,e.company&&(ae.value=e.company._id,ke.value.value=e.company._id,await xa(e.company._id),e.department&&e.department._id&&(xe.value.value=e.department._id)),We.value.value=e.email,He.value.value=e.personalEmail,qe.value.value=e.name,Fe.value.value=e.englishName,fe.value.value=e.gender,Ue.value.value=e.IDNumber,Xe.value.value=e.phoneNumber,Je.value.value=e.cellphone,Se.value.value=z(e.birthDate),Ie.value.value=e.permanentAddress,Me.value.value=e.contactAddress,na.value.value=e.emergencyName,sa.value.value=e.emergencyPhoneNumber,oa.value.value=e.emergencyCellphone,ua.value.value=e.emergencyRelationship,ta.value.value=e.userId??"",Qe.value.value=e.jobTitle,Ge.value.value=e.salary,ea.value.value=e.role,Ze.value.value=e.extNumber,Ke.value.value=e.printNumber,Ce.value.value=e.employmentStatus,be.value.value=z(e.hireDate),ve.value.value=z(e.resignationDate),ra.value.value=e.note??"",ye.value.value=e.formStatus,aa.value.value=e.cowellAccount,la.value.value=e.cowellPassword,pa.value.value=e.YSRCAccount,ga.value.value=e.YSRCPassword,fa.value.value=e.YS168Account,ba.value.value=e.YS168Password,ma.value.value=e.guideLicense,va.value.value=e.tourManager,ya.value.value=e.disabilityStatus,ha.value.value=e.indigenousStatus,we.value.value=z(e.healthInsuranceStartDate),Pe.value.value=z(e.healthInsuranceEndDate),Ne.value.value=z(e.laborInsuranceStartDate),Re.value.value=z(e.laborInsuranceEndDate),Va.value.value=e.voluntaryPensionRate,Ee.value.value=z(e.voluntaryPensionStartDate),Be.value.value=z(e.voluntaryPensionEndDate),Ae.value.value=z(e.tourismReportDate),da.value.value=e.salaryBank,ia.value.value=e.salaryBankBranch,ca.value.value=e.salaryAccountNumber,Y.value=e.dependentInsurance||[],cl.value.value=e.dependentInsurance||[],m.value={email:e.email,personalEmail:e.personalEmail,name:e.name,englishName:e.englishName,gender:e.gender,IDNumber:e.IDNumber,phoneNumber:e.phoneNumber,cellphone:e.cellphone,birthDate:z(e.birthDate),permanentAddress:e.permanentAddress,contactAddress:e.contactAddress,emergencyName:e.emergencyName,emergencyPhoneNumber:e.emergencyPhoneNumber,emergencyCellphone:e.emergencyCellphone,emergencyRelationship:e.emergencyRelationship,company:(a=e.company)==null?void 0:a._id,department:(v=e.department)==null?void 0:v._id,userId:e.userId??"",jobTitle:e.jobTitle,salary:e.salary,role:e.role,extNumber:e.extNumber,printNumber:e.printNumber,employmentStatus:e.employmentStatus,hireDate:z(e.hireDate),resignationDate:z(e.resignationDate),note:e.note??"",formStatus:e.formStatus,cowellAccount:e.cowellAccount,cowellPassword:e.cowellPassword,YSRCAccount:e.YSRCAccount,YSRCPassword:e.YSRCPassword,YS168Account:e.YS168Account,YS168Password:e.YS168Password,guideLicense:e.guideLicense??[],tourManager:e.tourManager,disabilityStatus:e.disabilityStatus,indigenousStatus:e.indigenousStatus,healthInsuranceStartDate:z(e.healthInsuranceStartDate),healthInsuranceEndDate:z(e.healthInsuranceEndDate),laborInsuranceStartDate:z(e.laborInsuranceStartDate),laborInsuranceEndDate:z(e.laborInsuranceEndDate),voluntaryPensionRate:e.voluntaryPensionRate,voluntaryPensionStartDate:z(e.voluntaryPensionStartDate),voluntaryPensionEndDate:z(e.voluntaryPensionEndDate),tourismReportDate:z(e.tourismReportDate),salaryBank:e.salaryBank,salaryBankBranch:e.salaryBankBranch,salaryAccountNumber:e.salaryAccountNumber,dependentInsurance:e.dependentInsurance||[]},console.log("originalData:",m.value),localStorage.setItem("userTablePage",G.value.toString())):(D.value=!1,ee.value.id="",m.value=null,ae.value=null,H.value=[],Y.value=[],cl.value.value=[],il(),be.value.value=new Date),setTimeout(()=>{je.value=!1,Za.value=!1},300)},al=()=>{ee.value.open=!1,ae.value=null,H.value=[],m.value=null,Y.value=[],il()},Dt=e=>{de.value={open:!0,userId:e._id,userName:e.name,loading:!1}},pl=()=>{de.value={open:!1,userId:"",userName:"",loading:!1}},St=async()=>{var e,a,v,C,w;try{Ye.value=!0,await c.delete(`/user/${ee.value.id}`),al(),await $e(!0),await((e=Ga.value)==null?void 0:e.refreshChart()),await((a=Ka.value)==null?void 0:a.refreshChart()),await((v=ul.value)==null?void 0:v.refreshData()),u({text:"員工刪除成功",snackbarProps:{color:"teal-lighten-1"}})}catch(r){console.error("Delete user error:",r),u({text:((w=(C=r==null?void 0:r.response)==null?void 0:C.data)==null?void 0:w.message)||"刪除失敗",snackbarProps:{color:"red-lighten-1"}})}finally{Ye.value=!1,p.value=!1}},It=()=>{Ie.value.value&&(Me.value.value=Ie.value.value)},kt=e=>{e<1&&(e=1);const a=Math.ceil(el.value/Oa.value);e>a&&(e=a),G.value!==e&&(G.value=e,localStorage.removeItem("userTablePage"),$e(!1))},xt=()=>{R.value={role:"",companyId:"",department:"",gender:"",employmentStatus:"",dateType:"",dateRange:[]},H.value=[],ml.value="",Ia.value="",G.value=1,ka()},Ct=O(()=>{if(!D.value)return!0;if(!m.value)return!1;const e={email:We.value.value,personalEmail:He.value.value,name:qe.value.value,englishName:Fe.value.value,gender:fe.value.value,IDNumber:Ue.value.value,permanentAddress:Ie.value.value,contactAddress:Me.value.value,phoneNumber:Xe.value.value,cellphone:Je.value.value,emergencyName:na.value.value,emergencyPhoneNumber:sa.value.value,emergencyCellphone:oa.value.value,emergencyRelationship:ua.value.value,birthDate:Se.value.value,hireDate:be.value.value,resignationDate:ve.value.value,healthInsuranceStartDate:we.value.value,healthInsuranceEndDate:Pe.value.value,laborInsuranceStartDate:Ne.value.value,laborInsuranceEndDate:Re.value.value,voluntaryPensionStartDate:Ee.value.value,voluntaryPensionEndDate:Be.value.value,tourismReportDate:Ae.value.value,company:ae.value,department:xe.value.value,jobTitle:Qe.value.value,role:ea.value.value,extNumber:Ze.value.value,printNumber:Ke.value.value,employmentStatus:Ce.value.value,salary:Ge.value.value,note:ra.value.value??"",tourManager:va.value.value,guideLicense:ma.value.value,disabilityStatus:ya.value.value,indigenousStatus:ha.value.value,voluntaryPensionRate:Va.value.value,salaryBank:da.value.value,salaryBankBranch:ia.value.value,salaryAccountNumber:ca.value.value,cowellAccount:aa.value.value,cowellPassword:la.value.value,YSRCAccount:pa.value.value,YSRCPassword:ga.value.value,YS168Account:fa.value.value,YS168Password:ba.value.value,userId:ta.value.value,formStatus:ye.value.value},a=["email","personalEmail","name","englishName","gender","IDNumber","permanentAddress","contactAddress","phoneNumber","cellphone"].some(r=>m.value[r]!==e[r]),v=["birthDate","hireDate","resignationDate","healthInsuranceStartDate","healthInsuranceEndDate","laborInsuranceStartDate","laborInsuranceEndDate","voluntaryPensionStartDate","voluntaryPensionEndDate","tourismReportDate"].some(r=>{const t=m.value[r]?new Date(m.value[r]).getTime():null,Z=e[r]?new Date(e[r]).getTime():null;return t!==Z}),C=(()=>{const r=m.value.dependentInsurance||[],t=Y.value||[];return r.length!==t.length?(console.log("Dependents length changed"),!0):t.some((Z,he)=>{const K=r[he];return K?["dependentName","dependentIDNumber","dependentRelationship","dependentBirthDate","dependentInsuranceStartDate","dependentInsuranceEndDate"].some(ne=>{if(ne.includes("Date")){const fl=K[ne]?new Date(K[ne]).getTime():null,bl=Z[ne]?new Date(Z[ne]).getTime():null;return console.log(`Comparing ${ne}:`,fl,bl),fl!==bl}else return console.log(`Comparing ${ne}:`,K[ne],Z[ne]),K[ne]!==Z[ne]}):!0})})();console.log("Dependents changed:",C);const w=["company","department","jobTitle","role","extNumber","printNumber","employmentStatus","salary","note","tourManager","guideLicense","disabilityStatus","indigenousStatus","voluntaryPensionRate","salaryBank","salaryBankBranch","salaryAccountNumber","emergencyName","emergencyPhoneNumber","emergencyCellphone","emergencyRelationship","cowellAccount","cowellPassword","YSRCAccount","YSRCPassword","YS168Account","YS168Password","userId","formStatus"].some(r=>Array.isArray(m.value[r])?JSON.stringify(m.value[r])!==JSON.stringify(e[r]):m.value[r]!==e[r]);return console.log("Changes detected:",{basicInfoChanged:a,datesChanged:v,dependentsChanged:C,otherFieldsChanged:w}),a||v||C||w}),xa=async e=>{var a;try{if(ee.value.open?ae.value=e:R.value={...R.value,companyId:e,department:""},!e){H.value=[];return}console.log("正在載入公司ID的部門:",e);const{data:v}=await c.get("/department/all",{params:{companyId:e,itemsPerPage:100}});console.log("API 返回的部門數據:",v),v.success?(H.value=((a=v.result)==null?void 0:a.data)||[],console.log("設置過濾後的部門列表:",H.value)):(console.warn("找不到該公司的部門"),H.value=[])}catch(v){console.error("載入部門失敗:",v),u({text:"載入部門資料失敗",snackbarProps:{color:"red-lighten-1"}}),H.value=[]}},wt=xl.debounce(e=>{$e(!0)},300),gl=xl.debounce(e=>{G.value=1,ka()},300);return oe(Ia,e=>{gl(e)}),oe(ae,async e=>{e!=null?(ke.value.value=e,xe.value.value="",await xa(e)):(ke.value.value=null,xe.value.value="",H.value=[])}),oe(()=>R.value.companyId,async e=>{e?await xa(e):H.value=[]}),oe(()=>R.value.dateRange,e=>{console.log("選擇的日期區間:",e)}),oe(ke.value,e=>{e&&e.value!==null&&e.value!==void 0&&(ae.value=e.value)}),oe(Ce.value,e=>{je.value||(e==="離職"?Ua.value=!0:(Ua.value=!1,ve.value.value=null))}),oe(()=>Ue.value.value,e=>{if(!e){fe.value.value=null,Ma.value="";return}if(e.length===10&&e!==Ma.value&&!Za.value&&/^[A-Za-z][12]\d{8}$/.test(e)){const v=e.charAt(1);v==="1"?(fe.value.value="男性",Ma.value=e,u({text:"已自動設定性別為男性",snackbarProps:{color:"teal-lighten-1",timeout:1e3}})):v==="2"&&(fe.value.value="女性",Ma.value=e,u({text:"已自動設定性別為女性",snackbarProps:{color:"teal-lighten-1",timeout:1e3}}))}}),Vl(async()=>{const e=localStorage.getItem("userTablePage");e&&(G.value=parseInt(e),Da.value++),await ft(),await gt(),await bt(),await ka()}),Vl(()=>{const e=localStorage.getItem("userTablePage");e&&parseInt(e)>0?(G.value=parseInt(e),Da.value++,localStorage.removeItem("userTablePage")):G.value=1}),sn(()=>{wt.cancel(),gl.cancel()}),(e,a)=>{var C,w,r;const v=zl("v-date-input");return T(),te(Ve,null,[l(yn,{"max-width":"2500"},{default:s(()=>[l(L,{class:"rounded-xl py-0 mt-2 ma-sm-1 ma-md-6"},{default:s(()=>[n(I)?(T(),q(d,{key:0,class:"ps-4 py-0"},{default:s(()=>[l(pn,{ref_key:"chartRef",ref:Ga},null,512)]),_:1})):X("",!0),n(g)?(T(),q(d,{key:1,class:"ps-4 py-0"},{default:s(()=>[l(gn,{ref_key:"turnoverChartRef",ref:Ka},null,512)]),_:1})):X("",!0),l(d,{class:"pa-0 mb-6 mb-sm-0"},{default:s(()=>[l(La,{class:"d-flex mx-3 mx-sm-4 px-4 pt-2 pt-sm-5 pb-4 pb-sm-5",elevation:"4",rounded:"xl",height:"100%"},{default:s(()=>[l(Ca,{class:"d-flex align-center"},{default:s(()=>[l(L,{class:"h-100"},{default:s(()=>[l(d,{cols:"12",class:"d-flex flex-column justify-center"},{default:s(()=>[l(L,null,{default:s(()=>a[88]||(a[88]=[W("h6",{style:{"font-size":"16px"},class:"ps-3 mb-1"}," 搜尋篩選 ",-1)])),_:1}),l(L,null,{default:s(()=>[l(d,{cols:"12",sm:"6"},{default:s(()=>[l(Q,{modelValue:R.value.companyId,"onUpdate:modelValue":[a[0]||(a[0]=t=>R.value.companyId=t),xa],items:Gl.value,label:"公司","item-title":"title","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),l(d,{cols:"12",sm:"6"},{default:s(()=>[l(Q,{modelValue:R.value.department,"onUpdate:modelValue":a[1]||(a[1]=t=>R.value.department=t),items:H.value,label:"部門","item-title":"name","item-value":"_id",variant:"outlined",density:"compact","hide-details":"",clearable:"",disabled:!R.value.companyId},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),l(L,null,{default:s(()=>[l(d,{cols:"12",sm:"6"},{default:s(()=>[l(Q,{modelValue:R.value.role,"onUpdate:modelValue":a[2]||(a[2]=t=>R.value.role=t),items:rl.value,label:"身分別","item-title":"title","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),l(d,{cols:"12",sm:"6"},{default:s(()=>[l(Q,{modelValue:R.value.employmentStatus,"onUpdate:modelValue":a[3]||(a[3]=t=>R.value.employmentStatus=t),items:dl.value,label:"任職狀態","item-title":"title","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1}),l(L,null,{default:s(()=>[l(d,{cols:"12",sm:"6"},{default:s(()=>[l(Q,{modelValue:R.value.dateType,"onUpdate:modelValue":a[4]||(a[4]=t=>R.value.dateType=t),items:_.value,label:"日期類型",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),l(d,{cols:"12",sm:"6"},{default:s(()=>[l(v,{modelValue:R.value.dateRange,"onUpdate:modelValue":a[5]||(a[5]=t=>R.value.dateRange=t),label:"日期區間",variant:"outlined",density:"compact","hide-details":"",multiple:"range","prepend-icon":"",clearable:"","persistent-placeholder":""},null,8,["modelValue"])]),_:1})]),_:1}),l(L,null,{default:s(()=>[l(d,{cols:"6",class:"pe-0 py-0"},{default:s(()=>[W("div",jn,[a[91]||(a[91]=W("label",{class:"text-grey-darken-1 search-label"},"性別",-1)),l(un,{modelValue:R.value.gender,"onUpdate:modelValue":a[6]||(a[6]=t=>R.value.gender=t),column:"",class:"custom-chip-group"},{default:s(()=>[l(Pa,{filter:"",variant:"outlined",color:"blue-grey-darken-2",value:"男性",label:""},{default:s(()=>a[89]||(a[89]=[E(" 男性 ")])),_:1}),l(Pa,{filter:"",variant:"outlined",color:"blue-grey-darken-2",value:"女性",label:""},{default:s(()=>a[90]||(a[90]=[E(" 女性 ")])),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),l(L,null,{default:s(()=>[l(d,{cols:"12",class:"d-flex justify-end gap-2"},{default:s(()=>[l(L,null,{default:s(()=>[l(d,{cols:"3"},{default:s(()=>[l(F,{color:"grey",block:"",onClick:xt},{default:s(()=>[l(ge,null,{default:s(()=>a[92]||(a[92]=[E("mdi-refresh")])),_:1})]),_:1})]),_:1}),l(d,null,{default:s(()=>[l(F,{"prepend-icon":"mdi-magnify",color:"cyan-darken-2",loading:Ye.value,block:"",onClick:a[7]||(a[7]=()=>{console.log("Current search criteria:",R.value.value),ka()})},{default:s(()=>a[93]||(a[93]=[E(" 搜尋 ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(L,{class:"elevation-4 rounded-xl py-4 py-sm-8 px-1 px-sm-10 mt-2 mt-sm-10 mx-0 mx-sm-4 mx-md-10 mb-4 bg-white"},{default:s(()=>[l(d,{cols:"12",class:"ps-3 pb-6"},{default:s(()=>a[94]||(a[94]=[W("h3",null," 員工管理 ",-1)])),_:1}),l(d,{cols:"12"},{default:s(()=>[l(L,null,{default:s(()=>[l(d,null,{default:s(()=>[l(L,null,{default:s(()=>[l(d,null,{default:s(()=>[l(F,{"prepend-icon":"mdi-account-plus",variant:"outlined",color:"blue-grey-darken-2",onClick:a[8]||(a[8]=t=>vl(null))},{default:s(()=>a[95]||(a[95]=[E(" 新增使用者 ")])),_:1})]),_:1}),l(d,{sm:"4",lg:"3",xl:"2"},{default:s(()=>[l(L,{class:"d-flex align-center"},{default:s(()=>[n(g)?(T(),q(d,{key:0,cols:"2",class:"ps-lg-5"},{default:s(()=>[Oe(l(ge,{icon:"mdi-information",size:"small",color:"blue-grey-darken-2"},null,512),[[za,"可搜尋員編、姓名、公司Email、手機、分機、職稱、備註","start"]])]),_:1})):X("",!0),l(d,null,{default:s(()=>[l($,{modelValue:Ia.value,"onUpdate:modelValue":a[9]||(a[9]=t=>Ia.value=t),label:"搜尋","append-inner-icon":"mdi-magnify","base-color":"#666",color:"blue-grey-darken-3",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(d,{cols:"12"},{default:s(()=>[(T(),q(hn,{key:Da.value,"items-per-page":Oa.value,"onUpdate:itemsPerPage":[a[10]||(a[10]=t=>Oa.value=t),a[12]||(a[12]=t=>$e(!1))],"sort-by":_a.value,"onUpdate:sortBy":[a[11]||(a[11]=t=>_a.value=t),a[13]||(a[13]=t=>$e(!1))],page:G.value,density:"compact",class:"rounded-ts-lg rounded-te-lg py-3","items-per-page-options":[10,20,50],items:ie.value,headers:pt.value,"header-props":y,loading:Ye.value,"items-length":el.value,search:ml.value,hover:"","onUpdate:page":kt},{item:s(({item:t,index:Z})=>{var he,K;return[W("tr",{class:rn({"odd-row":Z%2===0,"even-row":Z%2!==0})},[W("td",null,j(t.userId),1),W("td",null,j(t.name),1),n(f)?(T(),te("td",Wn,j(t.email),1)):X("",!0),n(I)?(T(),te("td",Hn,j(t.cellphone),1)):X("",!0),n(g)?(T(),te("td",qn,j(((he=t.company)==null?void 0:he.name)||""),1)):X("",!0),n(g)?(T(),te("td",Fn,j(((K=t.department)==null?void 0:K.name)||""),1)):X("",!0),W("td",null,j(t.extNumber),1),n(S)?(T(),te("td",Xn,j(mt(t.role)),1)):X("",!0),n(I)?(T(),te("td",Jn,j(t.employmentStatus),1)):X("",!0),n(f)?(T(),te("td",Gn,[l(Sl,null,{activator:s(({props:pe})=>[Oe((T(),q(Pa,ce(pe,{color:me(t.formStatus),variant:"outlined",size:"small",label:"",loading:t._id===x.value,disabled:t._id===x.value}),{default:s(()=>[E(j(t.formStatus),1)]),_:2},1040,["color","loading","disabled"])),[[za,"點擊更改表單狀態","start"]])]),default:s(()=>[l(Nl,null,{default:s(()=>[(T(),te(Ve,null,Ha(Na,pe=>l(Rl,{key:pe,active:t.formStatus===pe,onClick:ne=>U(t._id,pe)},{default:s(()=>[l(El,null,{default:s(()=>[E(j(pe),1)]),_:2},1024)]),_:2},1032,["active","onClick"])),64))]),_:2},1024)]),_:2},1024)])):X("",!0),W("td",Zn,[l(F,{icon:"",color:"light-blue-darken-4",variant:"plain",width:"28",size:B.value,ripple:!1,onClick:pe=>vl(t)},{default:s(()=>[l(ge,null,{default:s(()=>a[96]||(a[96]=[E("mdi-pencil")])),_:1})]),_:2},1032,["size","onClick"]),t.isFirstLogin?Oe((T(),q(F,{key:0,icon:"",color:"teal-darken-1",variant:"plain",width:"28",class:"ms-2",size:B.value,ripple:!1,onClick:pe=>Dt(t)},{default:s(()=>[l(ge,null,{default:s(()=>a[97]||(a[97]=[E("mdi-key-variant")])),_:1})]),_:2},1032,["size","onClick"])),[[za,"發送初始密碼"]]):X("",!0)])],2)]}),_:1},8,["items-per-page","sort-by","page","items","headers","loading","items-length","search"]))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(Dl,{modelValue:de.value.open,"onUpdate:modelValue":a[14]||(a[14]=t=>de.value.open=t),persistent:"","max-width":"360"},{default:s(()=>[l(La,{class:"rounded-lg pa-4"},{default:s(()=>[a[102]||(a[102]=W("div",{class:"card-title pa-4"}," 發送初始密碼 ",-1)),W("div",Kn,[a[98]||(a[98]=E(" 確定要發送系統生成的初始密碼給 ")),W("span",Qn,j(de.value.userName),1),a[99]||(a[99]=E(" 嗎？ "))]),l(Il,{class:"pa-4 pt-0"},{default:s(()=>[l(kl),l(F,{color:"grey",variant:"outlined",size:B.value,onClick:pl},{default:s(()=>a[100]||(a[100]=[E(" 取消 ")])),_:1},8,["size"]),l(F,{color:"teal-darken-1",variant:"outlined",size:B.value,loading:de.value.loading,onClick:yt},{default:s(()=>a[101]||(a[101]=[E(" 確認發送 ")])),_:1},8,["size","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(Dl,{modelValue:ee.value.open,"onUpdate:modelValue":a[83]||(a[83]=t=>ee.value.open=t),persistent:"",width:Kl.value},{default:s(()=>[l(Vn,{disabled:n(Qa),onSubmit:dn(n(ht),["prevent"])},{default:s(()=>[l(La,{class:"rounded-lg px-4 py-6"},{default:s(()=>[W("div",es,[E(j(ee.value.id?"員工資料編輯":"新增員工")+" ",1),l(Sl,null,{activator:s(({props:t})=>[Oe((T(),q(Pa,ce(t,{color:me(n(ye).value.value),variant:"outlined",size:B.value,label:"",class:"ml-2",loading:h.value,disabled:h.value}),{default:s(()=>[E(j(n(ye).value.value),1)]),_:2},1040,["color","size","loading","disabled"])),[[za,"點擊更改表單狀態","start"]])]),default:s(()=>[l(Nl,null,{default:s(()=>[(T(),te(Ve,null,Ha(Na,t=>l(Rl,{key:t,active:n(ye).value.value===t,onClick:Z=>D.value?Ja(t):n(ye).value.value=t},{default:s(()=>[l(El,null,{default:s(()=>[E(j(t),1)]),_:2},1024)]),_:2},1032,["active","onClick"])),64))]),_:1})]),_:1})]),W("div",as,[l(Un,{modelValue:De.value,"onUpdate:modelValue":a[15]||(a[15]=t=>De.value=t),color:"blue-grey-darken-2","align-tabs":"center","mobile-breakpoint":"sm",density:"compact",height:"40"},{default:s(()=>[l(ja,{value:"basic",class:"tab-title"},{default:s(()=>[l(ge,{start:""},{default:s(()=>a[103]||(a[103]=[E(" mdi-account-outline ")])),_:1}),a[104]||(a[104]=E(" 個人資訊 "))]),_:1}),l(ja,{value:"employment",class:"tab-title"},{default:s(()=>[l(ge,{start:""},{default:s(()=>a[105]||(a[105]=[E(" mdi-briefcase-outline ")])),_:1}),a[106]||(a[106]=E(" 任職資訊 "))]),_:1}),l(ja,{value:"insurance",class:"tab-title"},{default:s(()=>[l(ge,{start:""},{default:s(()=>a[107]||(a[107]=[E(" mdi-shield-account-outline ")])),_:1}),a[108]||(a[108]=E(" 保險及薪轉資訊 "))]),_:1})]),_:1},8,["modelValue"])]),je.value&&D.value?(T(),q(Ca,{key:0,class:"d-flex justify-center align-center",style:{height:"600px"}},{default:s(()=>[l(cn,{indeterminate:"",color:"blue-grey-darken-2",size:N.value},null,8,["size"])]),_:1})):(T(),q(Fl,{key:1,modelValue:De.value,"onUpdate:modelValue":a[81]||(a[81]=t=>De.value=t),class:"mx-1 overflow-y-auto"},{default:s(()=>[l(Wa,{value:"basic"},{default:s(()=>[l(Ca,{class:"mt-3 pa-3"},{default:s(()=>[l(L,null,{default:s(()=>[l(d,{cols:"12",sm:"6",md:"4",lg:"2",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(qe).value.value,"onUpdate:modelValue":a[16]||(a[16]=t=>n(qe).value.value=t),"error-messages":n(qe).errorMessage.value,label:"*姓名",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"2",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(Fe).value.value,"onUpdate:modelValue":a[17]||(a[17]=t=>n(Fe).value.value=t),"error-messages":n(Fe).errorMessage.value,label:"英文名",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"2",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(Ue).value.value,"onUpdate:modelValue":a[18]||(a[18]=t=>n(Ue).value.value=t),"error-messages":n(Ue).errorMessage.value,label:"*身分證號碼",maxlength:"10",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"2",class:"pb-0"},{default:s(()=>[l(Q,{modelValue:n(fe).value.value,"onUpdate:modelValue":a[19]||(a[19]=t=>n(fe).value.value=t),items:Zl.value,"error-messages":n(fe).errorMessage.value,label:"*性別",variant:"outlined",density:"compact"},null,8,["modelValue","items","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"2",class:"pb-0"},{default:s(()=>[l(Q,{modelValue:n(ya).value.value,"onUpdate:modelValue":a[20]||(a[20]=t=>n(ya).value.value=t),"error-messages":n(ya).errorMessage.value,items:ue,"item-title":"title","item-value":"value",label:"身心障礙身份",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"2",class:"pb-0"},{default:s(()=>[l(Q,{modelValue:n(ha).value.value,"onUpdate:modelValue":a[21]||(a[21]=t=>n(ha).value.value=t),"error-messages":n(ha).errorMessage.value,items:qa,"item-title":"title","item-value":"value",label:"原住民身份",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"2",class:"pb-0"},{default:s(()=>[l(v,{modelValue:n(Se).value.value,"onUpdate:modelValue":a[22]||(a[22]=t=>n(Se).value.value=t),"error-messages":n(Se).errorMessage.value,label:"*生日","prepend-icon":"",variant:"outlined",density:"compact",hint:n(lt),"persistent-hint":"",clearable:"","cancel-text":"取消","ok-text":"確認","onClick:clear":a[23]||(a[23]=t=>n(Se).value.value=null)},null,8,["modelValue","error-messages","hint"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"2",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(Xe).value.value,"onUpdate:modelValue":a[24]||(a[24]=t=>n(Xe).value.value=t),"error-messages":n(Xe).errorMessage.value,label:"室內電話",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"2",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(Je).value.value,"onUpdate:modelValue":a[25]||(a[25]=t=>n(Je).value.value=t),"error-messages":n(Je).errorMessage.value,label:"手機號碼",maxlength:"10",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"6",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(He).value.value,"onUpdate:modelValue":a[26]||(a[26]=t=>n(He).value.value=t),"error-messages":n(He).errorMessage.value,label:"個人Email",type:"email",variant:"outlined",density:"compact",clearable:"",autocomplete:"username"},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(Ie).value.value,"onUpdate:modelValue":a[27]||(a[27]=t=>n(Ie).value.value=t),"error-messages":n(Ie).errorMessage.value,label:"*戶籍地址",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(Me).value.value,"onUpdate:modelValue":a[28]||(a[28]=t=>n(Me).value.value=t),"error-messages":n(Me).errorMessage.value,label:"*聯絡地址",type:"text",variant:"outlined",density:"compact",clearable:""},{"append-inner":s(()=>[l(Dn,{location:"top","close-delay":"200"},{activator:s(({tprops:t})=>[l(ge,ce(t,{icon:"mdi-content-copy",onClick:It}),null,16)]),default:s(()=>[a[109]||(a[109]=E(" 複製戶籍地址 "))]),_:1})]),_:1},8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12"},{default:s(()=>[l(L,{class:"d-flex align-center my-2"},{default:s(()=>[l(d,{cols:"4"},{default:s(()=>[l(wa,{color:"blue-grey-darken-2",opacity:"0.3"})]),_:1}),l(d,{cols:"4",class:"text-blue-grey-darken-1 info-title"},{default:s(()=>a[110]||(a[110]=[E(" 緊急連絡人資訊 ")])),_:1}),l(d,{cols:"4"},{default:s(()=>[l(wa)]),_:1})]),_:1})]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(na).value.value,"onUpdate:modelValue":a[29]||(a[29]=t=>n(na).value.value=t),"error-messages":n(na).errorMessage.value,label:"緊急聯絡人姓名",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(sa).value.value,"onUpdate:modelValue":a[30]||(a[30]=t=>n(sa).value.value=t),"error-messages":n(sa).errorMessage.value,label:"緊急聯絡人室內電話",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(oa).value.value,"onUpdate:modelValue":a[31]||(a[31]=t=>n(oa).value.value=t),"error-messages":n(oa).errorMessage.value,label:"緊急聯絡人手機",type:"text",maxlength:"10",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(ua).value.value,"onUpdate:modelValue":a[32]||(a[32]=t=>n(ua).value.value=t),"error-messages":n(ua).errorMessage.value,label:"緊急聯絡人關係",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),l(Wa,{value:"employment"},{default:s(()=>[l(Ca,{class:"mt-3 pa-3"},{default:s(()=>[l(L,null,{default:s(()=>[D.value?(T(),q(d,{key:0,cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(ta).value.value,"onUpdate:modelValue":a[33]||(a[33]=t=>n(ta).value.value=t),"error-messages":n(ta).errorMessage.value,label:"*員工編號",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1})):X("",!0),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(Q,{modelValue:ae.value,"onUpdate:modelValue":[a[34]||(a[34]=t=>ae.value=t),xa],"error-messages":n(ke).errorMessage.value,items:Jl.value,label:"*所屬公司","item-title":"title","item-value":"value",variant:"outlined",density:"compact",clearable:"",error:!!n(ke).errorMessage.value},null,8,["modelValue","error-messages","items","error"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(Q,{modelValue:n(xe).value.value,"onUpdate:modelValue":a[35]||(a[35]=t=>n(xe).value.value=t),items:H.value,"error-messages":n(xe).errorMessage.value,"item-title":"name","item-value":"_id",label:"*選擇部門",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(Qe).value.value,"onUpdate:modelValue":a[36]||(a[36]=t=>n(Qe).value.value=t),"error-messages":n(Qe).errorMessage.value,label:"職稱",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(Q,{modelValue:n(ea).value.value,"onUpdate:modelValue":a[37]||(a[37]=t=>n(ea).value.value=t),"error-messages":n(ea).errorMessage.value,items:rl.value,"item-title":"title","item-value":"value",label:"*權限",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages","items"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(v,{modelValue:n(be).value.value,"onUpdate:modelValue":a[38]||(a[38]=t=>n(be).value.value=t),"error-messages":n(be).errorMessage.value,label:"*入職日期","prepend-icon":"",variant:"outlined",density:"compact",hint:n(tt),"persistent-hint":"",clearable:"","cancel-text":"取消","ok-text":"確認","onClick:clear":a[39]||(a[39]=t=>n(be).value.value=null)},null,8,["modelValue","error-messages","hint"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(Q,{modelValue:n(Ce).value.value,"onUpdate:modelValue":a[40]||(a[40]=t=>n(Ce).value.value=t),"error-messages":n(Ce).errorMessage.value,items:dl.value,"item-title":"title","item-value":"value",label:"*任職狀態",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages","items"])]),_:1}),n(ve).value.value?(T(),q(d,{key:1,cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(v,{modelValue:n(ve).value.value,"onUpdate:modelValue":a[41]||(a[41]=t=>n(ve).value.value=t),label:"離職日期","prepend-icon":"",variant:"outlined",density:"compact","persistent-hint":"",clearable:"",hint:n(nt),"cancel-text":"取消","ok-text":"確認","onClick:clear":a[42]||(a[42]=t=>n(ve).value.value=null)},null,8,["modelValue","hint"])]),_:1})):X("",!0),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(Ze).value.value,"onUpdate:modelValue":a[43]||(a[43]=t=>n(Ze).value.value=t),"error-messages":n(Ze).errorMessage.value,label:"分機號碼",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(Ke).value.value,"onUpdate:modelValue":a[44]||(a[44]=t=>n(Ke).value.value=t),"error-messages":n(Ke).errorMessage.value,label:"列印編號",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(Ge).value.value,"onUpdate:modelValue":a[45]||(a[45]=t=>n(Ge).value.value=t),"error-messages":n(Ge).errorMessage.value,label:"基本薪資",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(Q,{modelValue:n(va).value.value,"onUpdate:modelValue":a[46]||(a[46]=t=>n(va).value.value=t),"error-messages":n(va).errorMessage.value,items:J,"item-title":"title","item-value":"value",label:"旅遊經理人",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(v,{modelValue:n(Ae).value.value,"onUpdate:modelValue":a[47]||(a[47]=t=>n(Ae).value.value=t),"error-messages":n(Ae).errorMessage.value,label:"觀光局申報到職日期","prepend-icon":"",variant:"outlined",density:"compact","persistent-hint":"",clearable:"",hint:n(ct),"cancel-text":"取消","ok-text":"確認","onClick:clear":a[48]||(a[48]=t=>n(Ae).value.value=null)},null,8,["modelValue","error-messages","hint"])]),_:1}),l(d,{cols:"12",md:"8",lg:"6",class:"pb-0"},{default:s(()=>[l(Yn,{modelValue:n(ma).value.value,"onUpdate:modelValue":a[49]||(a[49]=t=>n(ma).value.value=t),"error-messages":n(ma).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12"},{default:s(()=>[l(L,{class:"d-flex align-center my-2"},{default:s(()=>[l(d,{cols:"4"},{default:s(()=>[l(wa,{color:"blue-grey-darken-2",opacity:"0.3"})]),_:1}),l(d,{cols:"4",class:"text-blue-grey-darken-1 info-title"},{default:s(()=>a[111]||(a[111]=[E(" 系統帳號資訊 ")])),_:1}),l(d,{cols:"4"},{default:s(()=>[l(wa,{color:"blue-grey-darken-2",opacity:"0.3"})]),_:1})]),_:1})]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(We).value.value,"onUpdate:modelValue":a[50]||(a[50]=t=>n(We).value.value=t),"error-messages":n(We).errorMessage.value,label:"*公司Email",type:"email",variant:"outlined",density:"compact",clearable:"",autocomplete:"username"},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(aa).value.value,"onUpdate:modelValue":a[51]||(a[51]=t=>n(aa).value.value=t),"error-messages":n(aa).errorMessage.value,label:"科威帳號",type:Ra.value?"text":"password","append-inner-icon":Ra.value?"mdi-eye-off":"mdi-eye",variant:"outlined",density:"compact",clearable:"",autocomplete:"new-password","onClick:appendInner":a[52]||(a[52]=t=>Ra.value=!Ra.value)},null,8,["modelValue","error-messages","type","append-inner-icon"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(la).value.value,"onUpdate:modelValue":a[53]||(a[53]=t=>n(la).value.value=t),"error-messages":n(la).errorMessage.value,label:"科威密碼",type:Ea.value?"text":"password","append-inner-icon":Ea.value?"mdi-eye-off":"mdi-eye",variant:"outlined",density:"compact",clearable:"",autocomplete:"new-password","onClick:appendInner":a[54]||(a[54]=t=>Ea.value=!Ea.value)},null,8,["modelValue","error-messages","type","append-inner-icon"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(pa).value.value,"onUpdate:modelValue":a[55]||(a[55]=t=>n(pa).value.value=t),"error-messages":n(pa).errorMessage.value,label:"YSRC帳號",type:Ba.value?"text":"password","append-inner-icon":Ba.value?"mdi-eye-off":"mdi-eye",variant:"outlined",density:"compact",clearable:"",autocomplete:"new-password","onClick:appendInner":a[56]||(a[56]=t=>Ba.value=!Ba.value)},null,8,["modelValue","error-messages","type","append-inner-icon"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(ga).value.value,"onUpdate:modelValue":a[57]||(a[57]=t=>n(ga).value.value=t),"error-messages":n(ga).errorMessage.value,label:"YSRC密碼",type:Aa.value?"text":"password","append-inner-icon":Aa.value?"mdi-eye-off":"mdi-eye",variant:"outlined",density:"compact",clearable:"",autocomplete:"new-password","onClick:appendInner":a[58]||(a[58]=t=>Aa.value=!Aa.value)},null,8,["modelValue","error-messages","type","append-inner-icon"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(fa).value.value,"onUpdate:modelValue":a[59]||(a[59]=t=>n(fa).value.value=t),"error-messages":n(fa).errorMessage.value,label:"YS168帳號",type:$a.value?"text":"password","append-inner-icon":$a.value?"mdi-eye-off":"mdi-eye",variant:"outlined",density:"compact",clearable:"",autocomplete:"new-password","onClick:appendInner":a[60]||(a[60]=t=>$a.value=!$a.value)},null,8,["modelValue","error-messages","type","append-inner-icon"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(ba).value.value,"onUpdate:modelValue":a[61]||(a[61]=t=>n(ba).value.value=t),"error-messages":n(ba).errorMessage.value,label:"YS168密碼",type:Ta.value?"text":"password","append-inner-icon":Ta.value?"mdi-eye-off":"mdi-eye",variant:"outlined",density:"compact",clearable:"",autocomplete:"new-password","onClick:appendInner":a[62]||(a[62]=t=>Ta.value=!Ta.value)},null,8,["modelValue","error-messages","type","append-inner-icon"])]),_:1}),l(d,{cols:"12",sm:"6",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(ra).value.value,"onUpdate:modelValue":a[63]||(a[63]=t=>n(ra).value.value=t),"error-messages":n(ra).errorMessage.value,label:"備註",type:"text",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),l(Wa,{value:"insurance"},{default:s(()=>[l(Ca,{class:"mt-3 pa-3"},{default:s(()=>[l(L,null,{default:s(()=>[l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(v,{modelValue:n(we).value.value,"onUpdate:modelValue":a[64]||(a[64]=t=>n(we).value.value=t),"error-messages":n(we).errorMessage.value,label:"健保加保日期","prepend-icon":"",variant:"outlined",density:"compact","persistent-hint":"",clearable:"",hint:n(st),"cancel-text":"取消","ok-text":"確認","onClick:clear":a[65]||(a[65]=t=>n(we).value.value=null)},null,8,["modelValue","error-messages","hint"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(v,{modelValue:n(Pe).value.value,"onUpdate:modelValue":a[66]||(a[66]=t=>n(Pe).value.value=t),"error-messages":n(Pe).errorMessage.value,label:"健保退保日期","prepend-icon":"",variant:"outlined",density:"compact","persistent-hint":"",clearable:"",hint:n(ot),"cancel-text":"取消","ok-text":"確認","onClick:clear":a[67]||(a[67]=t=>n(Pe).value.value=null)},null,8,["modelValue","error-messages","hint"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(v,{modelValue:n(Ne).value.value,"onUpdate:modelValue":a[68]||(a[68]=t=>n(Ne).value.value=t),"error-messages":n(Ne).errorMessage.value,label:"勞保加保日期","prepend-icon":"",variant:"outlined",density:"compact","persistent-hint":"",clearable:"",hint:n(ut),"cancel-text":"取消","ok-text":"確認","onClick:clear":a[69]||(a[69]=t=>n(Ne).value.value=null)},null,8,["modelValue","error-messages","hint"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(v,{modelValue:n(Re).value.value,"onUpdate:modelValue":a[70]||(a[70]=t=>n(Re).value.value=t),"error-messages":n(Re).errorMessage.value,label:"勞保退保日期","prepend-icon":"",variant:"outlined",density:"compact","persistent-hint":"",clearable:"",hint:n(rt),"cancel-text":"取消","ok-text":"確認","onClick:clear":a[71]||(a[71]=t=>n(Re).value.value=null)},null,8,["modelValue","error-messages","hint"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(Q,{modelValue:n(Va).value.value,"onUpdate:modelValue":a[72]||(a[72]=t=>n(Va).value.value=t),"error-messages":n(Va).errorMessage.value,items:Fa,"item-title":"title","item-value":"value",label:"勞退自提比率",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(v,{modelValue:n(Ee).value.value,"onUpdate:modelValue":a[73]||(a[73]=t=>n(Ee).value.value=t),"error-messages":n(Ee).errorMessage.value,label:"勞退自提加保日期","prepend-icon":"",variant:"outlined",density:"compact","persistent-hint":"",clearable:"",hint:n(dt),"cancel-text":"取消","ok-text":"確認","onClick:clear":a[74]||(a[74]=t=>n(Ee).value.value=null)},null,8,["modelValue","error-messages","hint"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",lg:"3",class:"pb-0"},{default:s(()=>[l(v,{modelValue:n(Be).value.value,"onUpdate:modelValue":a[75]||(a[75]=t=>n(Be).value.value=t),"error-messages":n(Be).errorMessage.value,label:"勞保自提退保日期","prepend-icon":"",variant:"outlined",density:"compact","persistent-hint":"",clearable:"",hint:n(it),"cancel-text":"取消","ok-text":"確認","onClick:clear":a[76]||(a[76]=t=>n(Be).value.value=null)},null,8,["modelValue","error-messages","hint"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:s(()=>[l(Sn,{modelValue:n(da).value.value,"onUpdate:modelValue":a[77]||(a[77]=t=>n(da).value.value=t),items:Xa.value,"error-messages":n(da).errorMessage.value,label:"薪轉銀行",variant:"outlined",density:"compact","item-title":"title","item-value":"value",clearable:"","menu-props":{maxHeight:400},hint:"可輸入銀行代碼或銀行名稱搜尋","persistent-hint":""},{selection:s(({item:t})=>[E(j(t.title),1)]),_:1},8,["modelValue","items","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(ia).value.value,"onUpdate:modelValue":a[78]||(a[78]=t=>n(ia).value.value=t),"error-messages":n(ia).errorMessage.value,label:"薪轉分行",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",sm:"6",md:"4",class:"pb-0"},{default:s(()=>[l($,{modelValue:n(ca).value.value,"onUpdate:modelValue":a[79]||(a[79]=t=>n(ca).value.value=t),"error-messages":n(ca).errorMessage.value,label:"薪轉帳戶號碼",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",class:"mt-10"},{default:s(()=>[l(wa,{color:"blue-grey-darken-2",opacity:"0.3"})]),_:1}),l(d,{cols:"12"},{default:s(()=>[l(Ln,{modelValue:Y.value,"onUpdate:modelValue":a[80]||(a[80]=t=>Y.value=t),errors:A.value},null,8,["modelValue","errors"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])),l(Il,{class:"px-4 mt-4"},{default:s(()=>[l(In,null,{default:s(({isHovering:t,props:Z})=>[D.value?(T(),q(F,ce({key:0},Z,{color:t?"red-lighten-1":"grey",variant:"outlined","prepend-icon":"mdi-delete",size:B.value,onClick:a[82]||(a[82]=he=>p.value=!0)}),{default:s(()=>a[112]||(a[112]=[E(" 永久刪除 ")])),_:2},1040,["color","size"])):X("",!0)]),_:1}),l(kl),l(F,{color:"red-lighten-1",variant:"outlined",size:B.value,loading:n(Qa),onClick:al},{default:s(()=>a[113]||(a[113]=[E(" 取消 ")])),_:1},8,["size","loading"]),l(F,{color:"teal-darken-1",variant:"outlined",type:"submit",class:"ms-1",size:B.value,loading:n(Qa),disabled:D.value&&!Ct.value},{default:s(()=>a[114]||(a[114]=[E(" 送出 ")])),_:1},8,["size","loading","disabled"])]),_:1})]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1},8,["modelValue","width"]),l(vn,{modelValue:Ua.value,"onUpdate:modelValue":a[84]||(a[84]=t=>Ua.value=t),onConfirm:a[85]||(a[85]=t=>{n(ve).value.value=t}),onCancel:a[86]||(a[86]=t=>n(Ce).value.value="在職")},null,8,["modelValue"]),l(fn,{modelValue:p.value,"onUpdate:modelValue":a[87]||(a[87]=t=>p.value=t),title:"確認刪除員工",message:`確定要刪除員工「<span class='text-pink-lighten-1' style='font-weight: 800;'>${((C=m.value)==null?void 0:C.name)||""}</span>」(<span class='text-pink-lighten-1' style='font-weight: 800;'> ${((w=m.value)==null?void 0:w.userId)||""} </span>)嗎？ 此操作無法復原。`,"expected-name":((r=m.value)==null?void 0:r.name)||"","input-label":"員工姓名",onConfirm:St},null,8,["modelValue","message","expected-name"])],64)}}},Ds=_l(ls,[["__scopeId","data-v-f1ff5794"]]);export{Ds as default};
