import{p as Ee,at as je,au as Me,av as Oe,g as Le,aw as Ge,D as He,ax as Je,o as h,ay as he,x as c,z as we,u as Ke,az as We,aA as De,aB as Xe,c as l,aC as Ze,H as be,U as ae,aD as F,aE as Qe,aF as Ye,X as _e,aG as el,_ as Re,a1 as $,a2 as le,a3 as t,ad as te,ae as ll,a8 as i,ah as A,ag as Ie,aq as Ce,a5 as ze,K as P,am as Se,Z as tl,P as al,A as Te,ar as ol,an as sl,aa as u,a7 as m,ab as Fe,a6 as O,a9 as $e,as as ke,ai as Ve,a4 as nl,aj as il,V as rl}from"./index-Ba1KTQK1.js";import{c as ul,a as _,u as dl,d as ee}from"./vee-validate-jL429P2B.js";import{V as cl}from"./VContainer-s91wX5SL.js";import{a as f,V as L}from"./VRow-m8n-itBq.js";import{a as ml,V as Ae}from"./VDataTableServer-C4D6LREy.js";import{V as pl}from"./VForm-0e-QbtiA.js";import{V as vl}from"./VTextarea-Dk7UyMqf.js";import{V as xe}from"./VDivider-B_qYuZj8.js";import{T as Ue}from"./index-BLScgfR9.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VList-CSFZjwbJ.js";import"./VCheckboxBtn-BlDuqd6c.js";import"./VTooltip-epx8WSnD.js";const fl=Ee({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:s=>typeof s=="boolean"||[1e3,1024].includes(Number(s))},...je({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:s=>s.multiple?[]:null,validator:s=>Me(s).every(x=>x!=null&&typeof x=="object")},...Oe({clearable:!0})},"VFileInput"),gl=Le()({name:"VFileInput",inheritAttrs:!1,props:fl(),emits:{"click:control":s=>!0,"mousedown:control":s=>!0,"update:focused":s=>!0,"update:modelValue":s=>!0},setup(s,x){let{attrs:I,emit:B,slots:g}=x;const{t:G}=Ge(),b=He(s,"modelValue",s.modelValue,r=>Me(r),r=>!s.multiple&&Array.isArray(r)?r[0]:r),{isFocused:C,focus:H,blur:y}=Je(s),U=h(()=>typeof s.showSize!="boolean"?s.showSize:void 0),J=h(()=>(b.value??[]).reduce((r,p)=>{let{size:q=0}=p;return r+q},0)),M=h(()=>he(J.value,U.value)),k=h(()=>(b.value??[]).map(r=>{const{name:p="",size:q=0}=r;return s.showSize?`${p} (${he(q,U.value)})`:p})),ce=h(()=>{var p;const r=((p=b.value)==null?void 0:p.length)??0;return s.showSize?G(s.counterSizeString,r,M.value):G(s.counterString,r)}),R=c(),oe=c(),z=c(),me=h(()=>C.value||s.active),K=h(()=>["plain","underlined"].includes(s.variant));function D(){var r;z.value!==document.activeElement&&((r=z.value)==null||r.focus()),C.value||H()}function N(r){var p;(p=z.value)==null||p.click()}function se(r){B("mousedown:control",r)}function ne(r){var p;(p=z.value)==null||p.click(),B("click:control",r)}function Z(r){r.stopPropagation(),D(),_e(()=>{b.value=[],el(s["onClick:clear"],r)})}return we(b,r=>{(!Array.isArray(r)||!r.length)&&z.value&&(z.value.value="")}),Ke(()=>{const r=!!(g.counter||s.counter),p=!!(r||g.details),[q,v]=We(I),{modelValue:Pe,...V}=De.filterProps(s),pe=Xe(s);return l(De,be({ref:R,modelValue:b.value,"onUpdate:modelValue":E=>b.value=E,class:["v-file-input",{"v-file-input--chips":!!s.chips,"v-file-input--hide":s.hideInput,"v-input--plain-underlined":K.value},s.class],style:s.style,"onClick:prepend":N},q,V,{centerAffix:!K.value,focused:C.value}),{...g,default:E=>{let{id:w,isDisabled:j,isDirty:Q,isReadonly:Y,isValid:ve}=E;return l(Ze,be({ref:oe,"prepend-icon":s.prependIcon,onMousedown:se,onClick:ne,"onClick:clear":Z,"onClick:prependInner":s["onClick:prependInner"],"onClick:appendInner":s["onClick:appendInner"]},pe,{id:w.value,active:me.value||Q.value,dirty:Q.value||s.dirty,disabled:j.value,focused:C.value,error:ve.value===!1}),{...g,default:fe=>{var W;let{props:{class:ge,...ye}}=fe;return l(ae,null,[l("input",be({ref:z,type:"file",readonly:Y.value,disabled:j.value,multiple:s.multiple,name:s.name,onClick:S=>{S.stopPropagation(),Y.value&&S.preventDefault(),D()},onChange:S=>{if(!S.target)return;const X=S.target;b.value=[...X.files??[]]},onFocus:D,onBlur:y},ye,v),null),l("div",{class:ge},[!!((W=b.value)!=null&&W.length)&&!s.hideInput&&(g.selection?g.selection({fileNames:k.value,totalBytes:J.value,totalBytesReadable:M.value}):s.chips?k.value.map(S=>l(F,{key:S,size:"small",text:S},null)):k.value.join(", "))])])}})},details:p?E=>{var w,j;return l(ae,null,[(w=g.details)==null?void 0:w.call(g,E),r&&l(ae,null,[l("span",null,null),l(Qe,{active:!!((j=b.value)!=null&&j.length),value:ce.value,disabled:s.disabled},g.counter)])])}:void 0})}),Ye({},R,oe,z)}}),yl={__name:"ConfirmDeleteDialog",props:{title:{type:String,default:"確認刪除"},message:{type:String,default:"你確定要刪除這個項目嗎？此操作無法恢復。"},modelValue:Boolean,confirmButtonColor:{type:String,default:"red-lighten-1"},cancelButtonColor:{type:String,default:"grey-darken-1"},confirmButtonText:{type:String,default:"確認"},cancelButtonText:{type:String,default:"取消"},cancelButtonSize:{type:String,default:"small"},confirmButtonSize:{type:String,default:"small"}},emits:["update:modelValue","confirm"],setup(s,{emit:x}){const I=s,B=x,g=c(I.modelValue);we(()=>I.modelValue,C=>{g.value=C});const G=()=>{B("update:modelValue",!1)},b=()=>{B("confirm"),B("update:modelValue",!1)};return(C,H)=>($(),le(Se,{modelValue:g.value,"onUpdate:modelValue":H[0]||(H[0]=y=>g.value=y),"max-width":"360",persistent:""},{default:t(()=>[l(te,{class:"rounded-lg"},{default:t(()=>[l(ll,{class:"font-weight-bold mt-4 ms-2"},{default:t(()=>[i(A(s.title),1)]),_:1}),l(Ie,{class:"ms-1"},{default:t(()=>[i(A(s.message),1)]),_:1}),l(Ce,{class:"me-4 mb-2"},{default:t(()=>[l(ze),l(P,{size:s.cancelButtonSize,color:s.cancelButtonColor,variant:"outlined",onClick:G},{default:t(()=>[i(A(s.cancelButtonText),1)]),_:1},8,["size","color"]),l(P,{size:s.confirmButtonSize,color:s.confirmButtonColor,variant:"outlined",onClick:b},{default:t(()=>[i(A(s.confirmButtonText),1)]),_:1},8,["size","color"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},bl=Re(yl,[["__scopeId","data-v-30ac7ae8"]]),kl={class:"ms-1"},Vl={key:1},xl={class:"card-title ps-4 py-3"},Il={class:"d-flex flex-column gap-4"},Cl={style:{"line-height":"2","font-size":"14px"}},zl={__name:"ITService",setup(s){const{apiAuth:x}=sl(),I=tl(),{smAndUp:B,mdAndUp:g,lgAndUp:G,xlAndUp:b}=al(),C=h(()=>B.value?"default":"small"),H={class:"header-bg"},y=c([]),U=c(!1),J=c(null),M=c([]),k=c([]),ce=c([]),R=c(!1),oe=o=>{J.value=o,U.value=!0},z=[{title:"維修編號",align:"start",key:"ticketId",sortable:!0},{title:"標題",align:"start",key:"title",sortable:!0},{title:"類別",align:"start",key:"category",sortable:!0},{title:"優先度",align:"start",key:"priority",sortable:!0},{title:"狀態",align:"start",key:"status",sortable:!0},{title:"地點",align:"start",key:"location",sortable:!0},{title:"圖片",align:"start",key:"attachments",sortable:!1},{title:"問題描述",align:"start",key:"description",sortable:!1},{title:"操作",align:"center",key:"actions",sortable:!1,render:o=>o.status==="待處理"?"mdi-pencil":""}],me=h(()=>b.value?z:G.value?z.filter(o=>o.key!=="attachments"):g.value?z.filter(o=>!["attachments","category","priority"].includes(o.key)):z.filter(o=>["ticketId","title","status","actions"].includes(o.key))),K=c(10),D=c(1),N=c([]),se=c([]),ne=c(0),Z=c(!1),r=c(""),p=["硬體問題","軟體問題","網路問題","帳號權限","其他"],q=["低","中","高","緊急"],v=c({open:!1,id:""}),Pe=c({title:"",category:"",priority:"中",location:"",description:"",attachments:[]}),V=c([]),pe=o=>({待處理:"grey-darken-1",處理中:"blue",待確認:"orange-darken-1",已完成:"green",已取消:"red"})[o]||"grey",E=o=>({低:"green",中:"blue",高:"orange-darken-1",緊急:"red"})[o]||"grey",w=async()=>{var o,e;Z.value=!0;try{const{data:n}=await x.get("/serviceTicket/my-tickets",{params:{page:D.value,limit:K.value,sort:N.value.length?`${N.value[0].order==="desc"?"-":""}${N.value[0].key}`:"-createdAt",search:r.value}});se.value=n.result.data,ne.value=n.result.total}catch(n){console.error("獲取維修請求失敗:",n),I({text:((e=(o=n==null?void 0:n.response)==null?void 0:o.data)==null?void 0:e.message)||"獲取維修請求失敗",snackbarProps:{color:"error"}})}finally{Z.value=!1}},j=()=>{D.value=1,w()},Q=o=>{if(o){if(v.value.id=o._id,o.status!=="待處理"){I({text:'只能編輯或刪除"待處理"狀態的維修請求',snackbarProps:{color:"error"}});return}X.value.value=o.title||"",ie.value.value=o.category||"",re.value.value=o.priority||"",ue.value.value=o.location||"",de.value.value=o.description||"",console.log("從後端獲取的 attachments:",o.attachments);const e=(o.attachments||[]).map(n=>(n.publicId||console.warn("缺少 publicId 的附件:",n),{url:n.url||"",publicId:n.publicId||null,isExisting:!0}));y.value=e,M.value=[...e],console.log("格式化後的 attachments:",y.value)}else v.value.id=null,S(),y.value=[],M.value=[];k.value=[],V.value=[],v.value.open=!0},Y=()=>{v.value.open=!1,S(),V.value=[],y.value=[],k.value=[],ce.value=[],M.value=[]},ve=async()=>{var o,e;try{await x.delete(`/serviceTicket/${J.value._id}`),I({text:"維修請求刪除成功",snackbarProps:{color:"success"}}),w(),U.value=!1}catch(n){console.error("刪除維修請求失敗:",n),I({text:((e=(o=n.response)==null?void 0:o.data)==null?void 0:e.message)||"刪除失敗",snackbarProps:{color:"error"}})}},fe=o=>{if(o>=0&&o<y.value.length){const e=y.value.splice(o,1)[0];if(console.log("要移除的附件:",e),e!=null&&e.publicId){const n=e.publicId.includes("tickets/")?e.publicId:`tickets/${e.publicId}`;console.log("待刪除的 fullPublicId:",n),console.log("當前的 tempDeletedImages:",k.value),k.value.includes(n)||(k.value.push(n),console.log("更新後的 tempDeletedImages:",k.value))}}},ge=ul({title:_().required("請輸入標題"),category:_().required("請選擇類別").oneOf(["硬體問題","軟體問題","網路問題","帳號權限","其他"],"請選擇有效的類別"),priority:_().default("中").oneOf(["低","中","高","緊急"],"請選擇有效的優先程度"),location:_().required("請輸入地點"),description:_().required("請輸入問題描述")}),{handleSubmit:ye,isSubmitting:W,resetForm:S}=dl({validationSchema:ge,initialValues:{title:"",category:"",priority:"中",location:"",description:""}}),X=ee("title"),ie=ee("category"),re=ee("priority"),ue=ee("location"),de=ee("description"),Ne=ye(async o=>{var e,n,a;try{if(v.value.id){if(k.value.length>0){console.log("正在刪除圖片，數量:",k.value.length);const d=k.value.map(T=>{const Be=T.split("tickets/")[1];return console.log(`準備刪除圖片: ${Be}`),x.delete(`/serviceTicket/${v.value.id}/images/${Be}`)});await Promise.all(d),await new Promise(T=>setTimeout(T,500))}if(console.log("正在更新請求基本資料"),await x.patch(`/serviceTicket/${v.value.id}/edit`,o),V.value.length>0){console.log("正在上傳新圖片，數量:",V.value.length);const d=new FormData;V.value.forEach(T=>d.append("images",T)),await x.post(`/serviceTicket/${v.value.id}/images`,d,{headers:{"Content-Type":"multipart/form-data"}})}}else{console.log("正在創建新維修請求");const d=new FormData;d.append("title",o.title),d.append("category",o.category),d.append("priority",o.priority),d.append("location",o.location),d.append("description",o.description),V.value.length>0&&(console.log("附加上傳圖片到新請求，數量:",V.value.length),V.value.forEach(T=>d.append("images",T))),await x.post("/serviceTicket",d,{headers:{"Content-Type":"multipart/form-data"}})}I({text:`維修請求${v.value.id?"更新":"建立"}成功`,snackbarProps:{color:"teal-lighten-1"}}),Y(),w()}catch(d){console.error("提交失敗:",d),console.error("錯誤詳情:",(e=d.response)==null?void 0:e.data),I({text:((a=(n=d.response)==null?void 0:n.data)==null?void 0:a.message)||"操作失敗",snackbarProps:{color:"error"}})}}),qe=o=>o?(v.value.id?y.value.filter(a=>!a.isNew).length:0)+o.length>4?(I({text:"最多只能上傳4張圖片",snackbarProps:{color:"warning"}}),!1):o.some(a=>a.size>2*1024*1024)?(I({text:"圖片大小不能超過2MB",snackbarProps:{color:"warning"}}),!1):!0:!0;return we(V,o=>{if(!qe(o)){V.value=[];return}const e=o.map(n=>({url:URL.createObjectURL(n),publicId:n.name,isExisting:!1}));console.log("新上傳的圖片:",e),y.value=[...M.value.filter(n=>{const a=n.publicId.includes("tickets/")?n.publicId:`tickets/${n.publicId}`;return!k.value.includes(a)}),...e],console.log("更新後的圖片列表:",y.value)}),Te(()=>{w()}),Te(()=>{const o=localStorage.getItem("itServiceDialogState");if(o){const{form:e,dialogId:n}=JSON.parse(o);Pe.value=e,v.value.id=n,v.value.open=!0}}),ol(()=>{localStorage.removeItem("itServiceDialogState")}),(o,e)=>($(),le(cl,{"max-width":"2200"},{default:t(()=>{var n;return[l(L,{class:"elevation-4 rounded-xl py-4 py-sm-8 px-1 px-sm-10 mt-2 mt-sm-6 mx-0 mx-sm-4 mx-md-10 mb-4 bg-white"},{default:t(()=>[l(f,{cols:"12",class:"ps-3 pb-6 d-flex align-center"},{default:t(()=>[e[17]||(e[17]=u("h3",null," IT維修服務 ",-1)),l(P,{size:"x-small",color:"grey-darken-1",class:"ms-4",elevation:"1",onClick:e[0]||(e[0]=a=>R.value=!0)},{default:t(()=>e[16]||(e[16]=[i(" 使用說明 ")])),_:1})]),_:1}),l(f,{cols:"12"},{default:t(()=>[l(L,null,{default:t(()=>[l(f,null,{default:t(()=>[l(L,null,{default:t(()=>[l(f,null,{default:t(()=>[l(P,{"prepend-icon":"mdi-wrench-outline",color:"blue-grey-darken-2",variant:"outlined",onClick:e[1]||(e[1]=a=>Q(null))},{default:t(()=>e[18]||(e[18]=[i(" 我要報修 ")])),_:1})]),_:1}),l(f,{cols:"6",md:"4",lg:"3",xl:"2",class:"d-flex justify-end align-center"},{default:t(()=>[m(B)?Fe(($(),le(O,{key:0,icon:"mdi-information",size:"small",color:"blue-grey-darken-2",class:"me-4"},null,512)),[[Ue,"可搜尋維修編號、標題、地點、問題描述","start"]]):$e("",!0),l(ke,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=a=>r.value=a),label:"搜尋","append-inner-icon":"mdi-magnify","base-color":"#666",color:"blue-grey-darken-3",variant:"outlined",density:"compact","hide-details":"",clearable:"",onInput:j},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(f,{cols:"12"},{default:t(()=>[l(ml,{"items-per-page":K.value,"onUpdate:itemsPerPage":e[3]||(e[3]=a=>K.value=a),"sort-by":N.value,"onUpdate:sortBy":e[4]||(e[4]=a=>N.value=a),page:D.value,"onUpdate:page":e[5]||(e[5]=a=>D.value=a),headers:me.value,items:se.value,loading:Z.value,"items-length":ne.value,"items-per-page-options":[10,20,50],"header-props":H,hover:"",density:"compact",class:"rounded-ts-lg rounded-te-lg py-3","onUpdate:options":w},{"item.status":t(({item:a})=>[l(F,{color:pe(a.status),variant:"outlined",size:"small",label:""},{default:t(()=>[i(A(a.status),1)]),_:2},1032,["color"])]),"item.priority":t(({item:a})=>[l(F,{color:E(a.priority),size:"small",variant:"outlined"},{default:t(()=>[i(A(a.priority),1)]),_:2},1032,["color"])]),"item.attachments":t(({item:a})=>[a.attachments&&a.attachments.length?($(),Ve(ae,{key:0},[l(O,{icon:"mdi-image-multiple",color:"blue-grey"}),u("span",kl," * "+A(a.attachments.length),1)],64)):($(),Ve("span",Vl,"無"))]),"item.actions":t(({item:a})=>[l(L,{class:"d-flex justify-center my-1"},{default:t(()=>[l(f,{cols:"6",sm:"4",md:"3",lg:"2",class:"py-0 px-0 px-md-4"},{default:t(()=>[l(P,{icon:"",color:"light-blue-darken-4",variant:"plain",width:"28",height:"32",size:C.value,ripple:!1,disabled:a.status!=="待處理",onClick:d=>Q(a)},{default:t(()=>[l(O,null,{default:t(()=>e[19]||(e[19]=[i("mdi-pencil")])),_:1})]),_:2},1032,["size","disabled","onClick"])]),_:2},1024),l(f,{cols:"6",sm:"4",md:"3",lg:"2",class:"py-0 px-0 px-md-4"},{default:t(()=>[l(P,{icon:"",color:"red-lighten-1",variant:"plain",width:"28",height:"32",size:C.value,ripple:!1,disabled:a.status!=="待處理",onClick:d=>oe(a)},{default:t(()=>[l(O,null,{default:t(()=>e[20]||(e[20]=[i("mdi-delete")])),_:1})]),_:2},1032,["size","disabled","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["items-per-page","sort-by","page","headers","items","loading","items-length"])]),_:1})]),_:1}),l(Se,{modelValue:v.value.open,"onUpdate:modelValue":e[12]||(e[12]=a=>v.value.open=a),persistent:"","max-width":"600px"},{default:t(()=>[l(te,{class:"rounded-lg px-4 py-6"},{default:t(()=>[u("div",xl,A(v.value.id?"編輯維修請求":"新增維修請求"),1),l(pl,{disabled:m(W),onSubmit:nl(m(Ne),["prevent"])},{default:t(()=>[l(Ie,{class:"pa-4"},{default:t(()=>[l(L,null,{default:t(()=>[l(f,{cols:"12",sm:"6"},{default:t(()=>[l(ke,{modelValue:m(X).value.value,"onUpdate:modelValue":e[6]||(e[6]=a=>m(X).value.value=a),"error-messages":m(X).errorMessage.value,label:"*標題",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue","error-messages"])]),_:1}),l(f,{cols:"12",sm:"6"},{default:t(()=>[l(Ae,{modelValue:m(ie).value.value,"onUpdate:modelValue":e[7]||(e[7]=a=>m(ie).value.value=a),"error-messages":m(ie).errorMessage.value,items:p,label:"*類別",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue","error-messages"])]),_:1}),l(f,{cols:"12",sm:"6"},{default:t(()=>[l(Ae,{modelValue:m(re).value.value,"onUpdate:modelValue":e[8]||(e[8]=a=>m(re).value.value=a),"error-messages":m(re).errorMessage.value,items:q,label:"*優先程度",variant:"outlined",density:"comfortable"},null,8,["modelValue","error-messages"])]),_:1}),l(f,{cols:"12",sm:"6"},{default:t(()=>[l(ke,{modelValue:m(ue).value.value,"onUpdate:modelValue":e[9]||(e[9]=a=>m(ue).value.value=a),"error-messages":m(ue).errorMessage.value,label:"*地點",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue","error-messages"])]),_:1}),l(f,{cols:"12"},{default:t(()=>[l(vl,{modelValue:m(de).value.value,"onUpdate:modelValue":e[10]||(e[10]=a=>m(de).value.value=a),"error-messages":m(de).errorMessage.value,label:"*問題描述",variant:"outlined",density:"comfortable",required:""},null,8,["modelValue","error-messages"])]),_:1}),y.value.length>0?($(),le(f,{key:0,cols:"12",class:"pt-0"},{default:t(()=>[l(te,{flat:"",class:"py-2 px-4",style:{border:"1px solid #a1a1a1"}},{default:t(()=>[e[21]||(e[21]=u("div",{style:{"font-size":"15px"},class:"ps-2"}," 現有圖片 ",-1)),l(L,{class:"ma-0"},{default:t(()=>[($(!0),Ve(ae,null,il(y.value,(a,d)=>($(),le(f,{key:a.publicId,cols:"4",md:"3",class:"pa-2"},{default:t(()=>[l(te,{class:"position-relative overflow-visible"},{default:t(()=>[l(rl,{src:a.url,"aspect-ratio":"1",cover:""},null,8,["src"]),l(P,{icon:"",size:"x-small",elevation:"4",class:"position-absolute",style:{top:"-6px",right:"-6px"},onClick:T=>fe(d)},{default:t(()=>[l(O,{icon:"mdi-close",color:"red-darken-2"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):$e("",!0),l(f,{cols:"12"},{default:t(()=>[Fe(l(gl,{modelValue:V.value,"onUpdate:modelValue":e[11]||(e[11]=a=>V.value=a),label:"上傳圖片(僅限 JPG、PNG、WEBP格式)",variant:"underlined",multiple:"",accept:"image/*","show-size":"",rules:[a=>!a||a.length<=4||"最多只能上傳4張圖片",a=>!a||!a.some(d=>d.size>2e6)||"圖片大小不能超過2MB"]},null,8,["modelValue","rules"]),[[Ue,"最多4張，每張圖片大小不超過2MB。請一次選擇所有需上傳圖片。","top"]])]),_:1})]),_:1})]),_:1}),l(Ce,{class:"pa-4"},{default:t(()=>[l(ze),l(P,{color:"red-lighten-1",variant:"outlined",size:C.value,onClick:Y},{default:t(()=>e[22]||(e[22]=[i(" 取消 ")])),_:1},8,["size"]),l(P,{type:"submit",color:"teal-darken-1",class:"ms-2",variant:"outlined",size:C.value,loading:m(W),disabled:m(W)},{default:t(()=>e[23]||(e[23]=[i(" 確定 ")])),_:1},8,["size","loading","disabled"])]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1},8,["modelValue"]),l(bl,{modelValue:U.value,"onUpdate:modelValue":e[13]||(e[13]=a=>U.value=a),title:"確認刪除",message:`確定要刪除 ${((n=J.value)==null?void 0:n.ticketId)||""} 嗎？此操作無法恢復。`,"confirm-button-text":"確認","confirm-button-color":"error",onConfirm:ve},null,8,["modelValue","message"]),l(Se,{modelValue:R.value,"onUpdate:modelValue":e[15]||(e[15]=a=>R.value=a),"max-width":"500"},{default:t(()=>[l(te,{class:"pa-4"},{default:t(()=>[e[43]||(e[43]=u("div",{class:"card-title ps-4 py-3"}," 維修服務相關說明 ",-1)),l(Ie,{class:"pa-4"},{default:t(()=>[l(L,null,{default:t(()=>[l(f,{cols:"12"},{default:t(()=>[u("div",Il,[u("div",Cl,[e[25]||(e[25]=i(" (1) ")),e[26]||(e[26]=u("span",{style:{"font-size":"15px","font-weight":"600"}},"狀態",-1)),e[27]||(e[27]=i(" : ")),e[28]||(e[28]=u("br",null,null,-1)),e[29]||(e[29]=i("僅限狀態為")),l(F,{color:"grey-darken-1",size:"small",variant:"outlined",label:"",class:"mx-2"},{default:t(()=>e[24]||(e[24]=[i(" 待處理 ")])),_:1}),e[30]||(e[30]=i("時，才能使用「編輯 ")),l(O,{icon:"mdi-pencil",size:"small",color:"light-blue-darken-4"}),e[31]||(e[31]=i("」及「刪除")),l(O,{icon:"mdi-delete",size:"small",color:"red-lighten-1"}),e[32]||(e[32]=i("」功能。 "))]),e[41]||(e[41]=u("div",{style:{"line-height":"2","font-size":"14px"},class:"mb-2"},[i(" (2) "),u("span",{style:{"font-size":"15px","font-weight":"600"}},"優先度"),i(" : ")],-1)),u("div",null,[l(F,{color:"red",size:"small",variant:"outlined",class:"mb-2"},{default:t(()=>e[33]||(e[33]=[i(" 緊急 ")])),_:1}),e[34]||(e[34]=u("div",{class:"priority-content mt-1"},[i(" 系統完全無法運作或造成重大業務影響，需要立即處理的問題。 "),u("br"),i(" 例如：系統當機、網路完全中斷、資料遺失等。 ")],-1))]),l(xe,{class:"my-4"}),u("div",null,[l(F,{color:"orange-darken-1",size:"small",variant:"outlined",class:"mb-2"},{default:t(()=>e[35]||(e[35]=[i(" 高 ")])),_:1}),e[36]||(e[36]=u("div",{class:"priority-content mt-1"},[i(" 影響工作進行但有暫時替代方案，需要優先處理的問題。 "),u("br"),i(" 例如：系統緩慢、部分功能異常、列印設備故障等。 ")],-1))]),l(xe,{class:"my-4"}),u("div",null,[l(F,{color:"blue",size:"small",variant:"outlined",class:"mb-2"},{default:t(()=>e[37]||(e[37]=[i(" 中 ")])),_:1}),e[38]||(e[38]=u("div",{class:"priority-content mt-1"},[i(" 造成不便但不影響主要工作，可以排程處理的問題。 "),u("br"),i(" 例如：軟體安裝、設備維護、功能諮詢等。 ")],-1))]),l(xe,{class:"my-4"}),u("div",null,[l(F,{color:"green",size:"small",variant:"outlined",class:"mb-2"},{default:t(()=>e[39]||(e[39]=[i(" 低 ")])),_:1}),e[40]||(e[40]=u("div",{class:"priority-content mt-1"},[i(" 一般性問題或建議，可以安排在較空閒時處理。 "),u("br"),i(" 例如：新功能建議、系統優化、預防性維護等。 ")],-1))])])]),_:1})]),_:1})]),_:1}),l(Ce,null,{default:t(()=>[l(ze),l(P,{color:"grey-darken-1",variant:"outlined",size:C.value,onClick:e[14]||(e[14]=a=>R.value=!1)},{default:t(()=>e[42]||(e[42]=[i(" 關閉 ")])),_:1},8,["size"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]}),_:1}))}},Nl=Re(zl,[["__scopeId","data-v-5cf254b4"]]);export{Nl as default};
