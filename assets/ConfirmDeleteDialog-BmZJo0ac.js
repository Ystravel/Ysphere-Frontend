import{p as ae,aG as le,$ as j,aH as ne,g as oe,_ as ue,D as ie,aI as se,o as c,aJ as $,x as k,z as E,u as ce,aK as re,aL as O,aM as de,c as a,aN as fe,H as b,U as x,at as me,aO as ve,aP as pe,X as ye,aQ as ge,a0 as Ve,a6 as Ce,a7 as Se,a8 as r,ai as he,ak as ke,ad as S,an as h,am as Be,aC as Ie,aa as ze,K as U,aD as be}from"./index-l-062uSF.js";const xe=ae({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...le({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>j(e).every(d=>d!=null&&typeof d=="object")},...ne({clearable:!0})},"VFileInput"),Ae=oe()({name:"VFileInput",inheritAttrs:!1,props:xe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,d){let{attrs:y,emit:f,slots:n}=d;const{t:g}=ue(),o=ie(e,"modelValue",e.modelValue,t=>j(t),t=>!e.multiple&&Array.isArray(t)?t[0]:t),{isFocused:s,focus:V,blur:B}=se(e),F=c(()=>typeof e.showSize!="boolean"?e.showSize:void 0),P=c(()=>(o.value??[]).reduce((t,l)=>{let{size:m=0}=l;return t+m},0)),w=c(()=>$(P.value,F.value)),I=c(()=>(o.value??[]).map(t=>{const{name:l="",size:m=0}=t;return e.showSize?`${l} (${$(m,F.value)})`:l})),H=c(()=>{var l;const t=((l=o.value)==null?void 0:l.length)??0;return e.showSize?g(e.counterSizeString,t,w.value):g(e.counterString,t)}),A=k(),D=k(),u=k(),K=c(()=>s.value||e.active),R=c(()=>["plain","underlined"].includes(e.variant));function z(){var t;u.value!==document.activeElement&&((t=u.value)==null||t.focus()),s.value||V()}function L(t){var l;(l=u.value)==null||l.click()}function G(t){f("mousedown:control",t)}function J(t){var l;(l=u.value)==null||l.click(),f("click:control",t)}function Q(t){t.stopPropagation(),z(),ye(()=>{o.value=[],ge(e["onClick:clear"],t)})}return E(o,t=>{(!Array.isArray(t)||!t.length)&&u.value&&(u.value.value="")}),ce(()=>{const t=!!(n.counter||e.counter),l=!!(t||n.details),[m,X]=re(y),{modelValue:Pe,..._}=O.filterProps(e),q=de(e);return a(O,b({ref:A,modelValue:o.value,"onUpdate:modelValue":v=>o.value=v,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":R.value},e.class],style:e.style,"onClick:prepend":L},m,_,{centerAffix:!R.value,focused:s.value}),{...n,default:v=>{let{id:C,isDisabled:p,isDirty:T,isReadonly:N,isValid:W}=v;return a(fe,b({ref:D,"prepend-icon":e.prependIcon,onMousedown:G,onClick:J,"onClick:clear":Q,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},q,{id:C.value,active:K.value||T.value,dirty:T.value||e.dirty,disabled:p.value,focused:s.value,error:W.value===!1}),{...n,default:Y=>{var M;let{props:{class:Z,...ee}}=Y;return a(x,null,[a("input",b({ref:u,type:"file",readonly:N.value,disabled:p.value,multiple:e.multiple,name:e.name,onClick:i=>{i.stopPropagation(),N.value&&i.preventDefault(),z()},onChange:i=>{if(!i.target)return;const te=i.target;o.value=[...te.files??[]]},onFocus:z,onBlur:B},ee,X),null),a("div",{class:Z},[!!((M=o.value)!=null&&M.length)&&!e.hideInput&&(n.selection?n.selection({fileNames:I.value,totalBytes:P.value,totalBytesReadable:w.value}):e.chips?I.value.map(i=>a(me,{key:i,size:"small",text:i},null)):I.value.join(", "))])])}})},details:l?v=>{var C,p;return a(x,null,[(C=n.details)==null?void 0:C.call(n,v),t&&a(x,null,[a("span",null,null),a(ve,{active:!!((p=o.value)!=null&&p.length),value:H.value,disabled:e.disabled},n.counter)])])}:void 0})}),pe({},A,D,u)}}),Fe={__name:"ConfirmDeleteDialog",props:{title:{type:String,default:"確認刪除"},message:{type:String,default:"你確定要刪除這個項目嗎？此操作無法恢復。"},modelValue:Boolean,confirmButtonColor:{type:String,default:"red-lighten-1"},cancelButtonColor:{type:String,default:"grey-darken-1"},confirmButtonText:{type:String,default:"確認"},cancelButtonText:{type:String,default:"取消"},cancelButtonSize:{type:String,default:"small"},confirmButtonSize:{type:String,default:"small"}},emits:["update:modelValue","confirm"],setup(e,{emit:d}){const y=e,f=d,n=k(y.modelValue);E(()=>y.modelValue,s=>{n.value=s});const g=()=>{f("update:modelValue",!1)},o=()=>{f("confirm"),f("update:modelValue",!1)};return(s,V)=>(Ce(),Se(be,{modelValue:n.value,"onUpdate:modelValue":V[0]||(V[0]=B=>n.value=B),"max-width":"360",persistent:""},{default:r(()=>[a(he,{class:"rounded-lg"},{default:r(()=>[a(ke,{class:"font-weight-bold mt-4 ms-2"},{default:r(()=>[S(h(e.title),1)]),_:1}),a(Be,{class:"ms-1"},{default:r(()=>[S(h(e.message),1)]),_:1}),a(Ie,{class:"me-4 mb-2"},{default:r(()=>[a(ze),a(U,{size:e.cancelButtonSize,color:e.cancelButtonColor,variant:"outlined",onClick:g},{default:r(()=>[S(h(e.cancelButtonText),1)]),_:1},8,["size","color"]),a(U,{size:e.confirmButtonSize,color:e.confirmButtonColor,variant:"outlined",onClick:o},{default:r(()=>[S(h(e.confirmButtonText),1)]),_:1},8,["size","color"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},De=Ve(Fe,[["__scopeId","data-v-30ac7ae8"]]);export{De as C,Ae as V};
